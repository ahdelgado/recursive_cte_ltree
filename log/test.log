  [1m[35m (5045.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "birds_test"[0m
  [1m[35m (33.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5274689716903555410)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2024-05-14 02:59:30.662672', '2024-05-14 02:59:30.662675') RETURNING "key"[0m
Migrating to CreateNodes (20240512204505)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE TABLE IF NOT EXISTS "nodes" ("id" bigserial primary key, "parent_id" integer)[0m
  [1m[35mSQL (45.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "ltree"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240512204505') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBirds (20240513185950)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE IF NOT EXISTS "birds" ("id" bigserial primary key, "node_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b54858e8c4"
FOREIGN KEY ("node_id")
  REFERENCES "nodes" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX IF NOT EXISTS "index_birds_on_node_id" ON "birds" ("node_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240513185950') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(5274689716903555410)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (5042.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "birds_test"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.5ms)[0m  [1m[32mINSERT INTO "nodes" DEFAULT VALUES RETURNING "id"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("parent_id") VALUES ($1) RETURNING "id"[0m  [["parent_id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("parent_id") VALUES ($1) RETURNING "id"[0m  [["parent_id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("parent_id") VALUES ($1) RETURNING "id"[0m  [["parent_id", 2]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("parent_id") VALUES ($1) RETURNING "id"[0m  [["parent_id", 3]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("parent_id") VALUES ($1) RETURNING "id"[0m  [["parent_id", 5]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (1.3ms)[0m  [1m[35m      WITH RECURSIVE tree_path AS (
        SELECT id, parent_id, 1 AS depth, id::TEXT AS path
        FROM nodes
        WHERE id IN (4, 6)
        UNION ALL
        SELECT n.id, n.parent_id, tp.depth + 1, tp.path || '.' || n.id::TEXT
        FROM nodes n
        JOIN tree_path tp ON n.id = tp.parent_id
      )
      SELECT
        (SELECT id FROM tree_path WHERE parent_id IS NULL LIMIT 1) AS root_id,
        (SELECT id FROM tree_path WHERE path = ANY (ARRAY(
          SELECT path
          FROM tree_path
          WHERE id IN (4, 6)
        )) LIMIT 1) AS lowest_common_ancestor,
        (SELECT MAX(depth) FROM tree_path) AS depth
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" DEFAULT VALUES RETURNING "id"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("parent_id") VALUES ($1) RETURNING "id"[0m  [["parent_id", 7]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("parent_id") VALUES ($1) RETURNING "id"[0m  [["parent_id", 7]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("parent_id") VALUES ($1) RETURNING "id"[0m  [["parent_id", 8]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("parent_id") VALUES ($1) RETURNING "id"[0m  [["parent_id", 9]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("parent_id") VALUES ($1) RETURNING "id"[0m  [["parent_id", 11]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.4ms)[0m  [1m[35m      WITH RECURSIVE tree_path AS (
        SELECT id, parent_id, 1 AS depth, id::TEXT AS path
        FROM nodes
        WHERE id IN (8, 9)
        UNION ALL
        SELECT n.id, n.parent_id, tp.depth + 1, tp.path || '.' || n.id::TEXT
        FROM nodes n
        JOIN tree_path tp ON n.id = tp.parent_id
      )
      SELECT
        (SELECT id FROM tree_path WHERE parent_id IS NULL LIMIT 1) AS root_id,
        (SELECT id FROM tree_path WHERE path = ANY (ARRAY(
          SELECT path
          FROM tree_path
          WHERE id IN (8, 9)
        )) LIMIT 1) AS lowest_common_ancestor,
        (SELECT MAX(depth) FROM tree_path) AS depth
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" DEFAULT VALUES RETURNING "id"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("parent_id") VALUES ($1) RETURNING "id"[0m  [["parent_id", 13]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (7.8ms)[0m  [1m[32mINSERT INTO "nodes" ("parent_id") VALUES ($1) RETURNING "id"[0m  [["parent_id", 13]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("parent_id") VALUES ($1) RETURNING "id"[0m  [["parent_id", 14]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (6.9ms)[0m  [1m[32mINSERT INTO "nodes" ("parent_id") VALUES ($1) RETURNING "id"[0m  [["parent_id", 15]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("parent_id") VALUES ($1) RETURNING "id"[0m  [["parent_id", 17]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.7ms)[0m  [1m[35m      WITH RECURSIVE tree_path AS (
        SELECT id, parent_id, 1 AS depth, id::TEXT AS path
        FROM nodes
        WHERE id IN (14, 18)
        UNION ALL
        SELECT n.id, n.parent_id, tp.depth + 1, tp.path || '.' || n.id::TEXT
        FROM nodes n
        JOIN tree_path tp ON n.id = tp.parent_id
      )
      SELECT
        (SELECT id FROM tree_path WHERE parent_id IS NULL LIMIT 1) AS root_id,
        (SELECT id FROM tree_path WHERE path = ANY (ARRAY(
          SELECT path
          FROM tree_path
          WHERE id IN (14, 18)
        )) LIMIT 1) AS lowest_common_ancestor,
        (SELECT MAX(depth) FROM tree_path) AS depth
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" DEFAULT VALUES RETURNING "id"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("parent_id") VALUES ($1) RETURNING "id"[0m  [["parent_id", 19]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("parent_id") VALUES ($1) RETURNING "id"[0m  [["parent_id", 19]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("parent_id") VALUES ($1) RETURNING "id"[0m  [["parent_id", 20]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("parent_id") VALUES ($1) RETURNING "id"[0m  [["parent_id", 21]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("parent_id") VALUES ($1) RETURNING "id"[0m  [["parent_id", 23]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.6ms)[0m  [1m[35m      WITH RECURSIVE tree_path AS (
        SELECT id, parent_id, 1 AS depth, id::TEXT AS path
        FROM nodes
        WHERE id IN (22, 22)
        UNION ALL
        SELECT n.id, n.parent_id, tp.depth + 1, tp.path || '.' || n.id::TEXT
        FROM nodes n
        JOIN tree_path tp ON n.id = tp.parent_id
      )
      SELECT
        (SELECT id FROM tree_path WHERE parent_id IS NULL LIMIT 1) AS root_id,
        (SELECT id FROM tree_path WHERE path = ANY (ARRAY(
          SELECT path
          FROM tree_path
          WHERE id IN (22, 22)
        )) LIMIT 1) AS lowest_common_ancestor,
        (SELECT MAX(depth) FROM tree_path) AS depth
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (5049.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "birds_test"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" DEFAULT VALUES RETURNING "id"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (1.0ms)[0m  [1m[35m      WITH RECURSIVE tree_path AS (
        SELECT id, parent_id, 1 AS depth, id::TEXT AS path
        FROM nodes
        WHERE id IN (2820230, 5497637)
        UNION ALL
        SELECT n.id, n.parent_id, tp.depth + 1, tp.path || '.' || n.id::TEXT
        FROM nodes n
        JOIN tree_path tp ON n.id = tp.parent_id
      )
      SELECT
        (SELECT id FROM tree_path WHERE parent_id IS NULL LIMIT 1) AS root_id,
        (SELECT id FROM tree_path WHERE path = ANY (ARRAY(
          SELECT path
          FROM tree_path
          WHERE id IN (2820230, 5497637)
        )) LIMIT 1) AS lowest_common_ancestor,
        (SELECT MAX(depth) FROM tree_path) AS depth
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" DEFAULT VALUES RETURNING "id"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.6ms)[0m  [1m[35m      WITH RECURSIVE tree_path AS (
        SELECT id, parent_id, 1 AS depth, id::TEXT AS path
        FROM nodes
        WHERE id IN (4430546, 5497637)
        UNION ALL
        SELECT n.id, n.parent_id, tp.depth + 1, tp.path || '.' || n.id::TEXT
        FROM nodes n
        JOIN tree_path tp ON n.id = tp.parent_id
      )
      SELECT
        (SELECT id FROM tree_path WHERE parent_id IS NULL LIMIT 1) AS root_id,
        (SELECT id FROM tree_path WHERE path = ANY (ARRAY(
          SELECT path
          FROM tree_path
          WHERE id IN (4430546, 5497637)
        )) LIMIT 1) AS lowest_common_ancestor,
        (SELECT MAX(depth) FROM tree_path) AS depth
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" DEFAULT VALUES RETURNING "id"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.4ms)[0m  [1m[35m      WITH RECURSIVE tree_path AS (
        SELECT id, parent_id, 1 AS depth, id::TEXT AS path
        FROM nodes
        WHERE id IN (125, 5497637)
        UNION ALL
        SELECT n.id, n.parent_id, tp.depth + 1, tp.path || '.' || n.id::TEXT
        FROM nodes n
        JOIN tree_path tp ON n.id = tp.parent_id
      )
      SELECT
        (SELECT id FROM tree_path WHERE parent_id IS NULL LIMIT 1) AS root_id,
        (SELECT id FROM tree_path WHERE path = ANY (ARRAY(
          SELECT path
          FROM tree_path
          WHERE id IN (125, 5497637)
        )) LIMIT 1) AS lowest_common_ancestor,
        (SELECT MAX(depth) FROM tree_path) AS depth
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" DEFAULT VALUES RETURNING "id"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.5ms)[0m  [1m[35m      WITH RECURSIVE tree_path AS (
        SELECT id, parent_id, 1 AS depth, id::TEXT AS path
        FROM nodes
        WHERE id IN (4430546, 4430546)
        UNION ALL
        SELECT n.id, n.parent_id, tp.depth + 1, tp.path || '.' || n.id::TEXT
        FROM nodes n
        JOIN tree_path tp ON n.id = tp.parent_id
      )
      SELECT
        (SELECT id FROM tree_path WHERE parent_id IS NULL LIMIT 1) AS root_id,
        (SELECT id FROM tree_path WHERE path = ANY (ARRAY(
          SELECT path
          FROM tree_path
          WHERE id IN (4430546, 4430546)
        )) LIMIT 1) AS lowest_common_ancestor,
        (SELECT MAX(depth) FROM tree_path) AS depth
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (5044.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "birds_test"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" DEFAULT VALUES RETURNING "id"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (1.1ms)[0m  [1m[35m      WITH RECURSIVE tree_path AS (
        SELECT id, parent_id, 1 AS depth, id::TEXT AS path
        FROM nodes
        WHERE id IN (5497637, 2820230)
        UNION ALL
        SELECT n.id, n.parent_id, tp.depth + 1, tp.path || '.' || n.id::TEXT
        FROM nodes n
        JOIN tree_path tp ON n.id = tp.parent_id
      )
      SELECT
        (SELECT id FROM tree_path WHERE parent_id IS NULL LIMIT 1) AS root_id,
        (SELECT id FROM tree_path WHERE path = ANY (ARRAY(
          SELECT path
          FROM tree_path
          WHERE id IN (5497637, 2820230)
        )) LIMIT 1) AS lowest_common_ancestor,
        (SELECT MAX(depth) FROM tree_path) AS depth
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (5058.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "birds_test"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (1.1ms)[0m  [1m[35m      WITH RECURSIVE tree_path AS (
        SELECT id, parent_id, 1 AS depth, id::TEXT AS path
        FROM nodes
        WHERE id IN (5497637, 2820230)
        UNION ALL
        SELECT n.id, n.parent_id, tp.depth + 1, tp.path || '.' || n.id::TEXT
        FROM nodes n
        JOIN tree_path tp ON n.id = tp.parent_id
      )
      SELECT
        (SELECT id FROM tree_path WHERE parent_id IS NULL LIMIT 1) AS root_id,
        (SELECT id FROM tree_path WHERE path = ANY (ARRAY(
          SELECT path
          FROM tree_path
          WHERE id IN (5497637, 2820230)
        )) LIMIT 1) AS lowest_common_ancestor,
        (SELECT MAX(depth) FROM tree_path) AS depth
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (5047.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "birds_test"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (1.0ms)[0m  [1m[35m      WITH RECURSIVE tree_path AS (
        SELECT id, parent_id, 1 AS depth, id::TEXT AS path
        FROM nodes
        WHERE id IN (5497637, 2820230)
        UNION ALL
        SELECT n.id, n.parent_id, tp.depth + 1, tp.path || '.' || n.id::TEXT
        FROM nodes n
        JOIN tree_path tp ON n.id = tp.parent_id
      )
      SELECT
        (SELECT id FROM tree_path WHERE parent_id IS NULL LIMIT 1) AS root_id,
        (SELECT id FROM tree_path WHERE path = ANY (ARRAY(
          SELECT path
          FROM tree_path
          WHERE id IN (5497637, 2820230)
        )) LIMIT 1) AS lowest_common_ancestor,
        (SELECT MAX(depth) FROM tree_path) AS depth
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (5046.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "birds_test"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, 1 AS depth, id::TEXT AS path
      FROM nodes
      WHERE id IN (5497637, 2820230)
      UNION ALL
      SELECT n.id, n.parent_id, tp.depth + 1, tp.path || '.' || n.id::TEXT
      FROM nodes n
      JOIN tree_path tp ON n.id = tp.parent_id
    )
    SELECT
      (SELECT id FROM tree_path WHERE parent_id IS NULL LIMIT 1) AS root_id,
      (SELECT parent_id FROM tree_path WHERE path = ANY (ARRAY(
        SELECT path
        FROM tree_path
        WHERE id IN (5497637, 2820230)
      )) LIMIT 1) AS lowest_common_ancestor,
      (SELECT MAX(depth) FROM tree_path) AS depth
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (5046.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "birds_test"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (1.1ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, 1 AS depth, id::TEXT AS path
      FROM nodes
      WHERE id IN (5497637, 2820230)
      UNION ALL
      SELECT n.id, n.parent_id, tp.depth + 1, tp.path || '.' || n.id::TEXT
      FROM nodes n
      JOIN tree_path tp ON n.id = tp.parent_id
    )
    SELECT
      (SELECT id FROM tree_path WHERE parent_id IS NULL LIMIT 1) AS root_id,
      (SELECT id FROM tree_path WHERE path = ANY (ARRAY(
        SELECT path
        FROM tree_path
        WHERE id IN (5497637, 2820230)
      )) AND depth = (
        SELECT MIN(depth) FROM tree_path WHERE path = ANY (ARRAY(
          SELECT path
          FROM tree_path
          WHERE id IN (5497637, 2820230)
        ))
      ) LIMIT 1) AS lowest_common_ancestor,
      (SELECT MAX(depth) FROM tree_path) AS depth
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (5044.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "birds_test"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (12.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, 1 AS depth, id::TEXT AS path
      FROM nodes
      WHERE id IN (5497637, 2820230)
      UNION ALL
      SELECT n.id, n.parent_id, tp.depth + 1, tp.path || '.' || n.id::TEXT
      FROM nodes n
      JOIN tree_path tp ON n.id = tp.parent_id
    )
    SELECT
      (SELECT id FROM tree_path WHERE parent_id IS NULL LIMIT 1) AS root_id,
      (SELECT parent_id FROM tree_path WHERE path = ANY (ARRAY(
        SELECT path
        FROM tree_path
        WHERE id IN (5497637, 2820230)
      )) LIMIT 1) AS lowest_common_ancestor,
      (SELECT MAX(depth) FROM tree_path) AS depth
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (5047.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "birds_test"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (5046.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "birds_test"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (5045.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "birds_test"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (5047.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "birds_test"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, 1 AS depth, id::TEXT AS path
      FROM nodes
      WHERE id IN (5497637, 2820230)
      UNION ALL
      SELECT n.id, n.parent_id, tp.depth + 1, tp.path || '.' || n.id::TEXT
      FROM nodes n
      JOIN tree_path tp ON n.id = tp.parent_id
    ),
    common_ancestor AS (
      SELECT parent_id, MAX(depth) AS depth
      FROM tree_path
      GROUP BY parent_id
      HAVING COUNT(*) = 2
    )
    SELECT
      (SELECT id FROM tree_path WHERE parent_id IS NULL LIMIT 1) AS root_id,
      (SELECT parent_id FROM common_ancestor LIMIT 1) AS lowest_common_ancestor,
      (SELECT MAX(depth) FROM common_ancestor) AS depth
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (5049.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "birds_test"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (1.1ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, 1 AS depth, id::TEXT AS path
      FROM nodes
      WHERE id IN (5497637, 2820230)
      UNION ALL
      SELECT n.id, n.parent_id, tp.depth + 1, tp.path || '.' || n.id::TEXT
      FROM nodes n
      JOIN tree_path tp ON n.id = tp.parent_id
    ),
    common_ancestor AS (
      SELECT parent_id, MAX(depth) AS depth
      FROM tree_path
      GROUP BY parent_id
      HAVING COUNT(*) = 2
    )
    SELECT
      (SELECT id FROM tree_path WHERE parent_id IS NULL LIMIT 1) AS root_id,
      (SELECT parent_id FROM common_ancestor LIMIT 1) AS lowest_common_ancestor,
      (SELECT MAX(depth) FROM common_ancestor) AS depth
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (5045.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "birds_test"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, 1 AS depth, id::TEXT AS path
      FROM nodes
      WHERE id IN (5497637, 2820230)
      UNION ALL
      SELECT n.id, n.parent_id, tp.depth + 1, tp.path || '.' || n.id::TEXT
      FROM nodes n
      JOIN tree_path tp ON n.id = tp.parent_id
    ),
    common_ancestor AS (
      SELECT parent_id, MAX(depth) AS depth
      FROM tree_path
      GROUP BY parent_id
      HAVING COUNT(*) = 2
    )
    SELECT
      (SELECT id FROM tree_path WHERE parent_id IS NULL LIMIT 1) AS root_id,
      (SELECT parent_id FROM common_ancestor LIMIT 1) AS lowest_common_ancestor,
      (SELECT MAX(depth) FROM common_ancestor) AS depth
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (5045.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "birds_test"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, 1 AS depth, id::TEXT AS path
      FROM nodes
      WHERE id IN (5497637, 2820230)
      UNION ALL
      SELECT n.id, n.parent_id, tp.depth + 1, tp.path || '.' || n.id::TEXT
      FROM nodes n
      JOIN tree_path tp ON n.id = tp.parent_id
    ),
    common_ancestor AS (
      SELECT parent_id
      FROM tree_path
      GROUP BY parent_id
      HAVING COUNT(*) = 2
    )
    SELECT
      (SELECT id FROM tree_path WHERE parent_id IS NULL LIMIT 1) AS root_id,
      (SELECT parent_id FROM common_ancestor LIMIT 1) AS lowest_common_ancestor,
      (SELECT MAX(depth) FROM tree_path) AS depth
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (5041.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "birds_test"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, 1 AS depth, id::TEXT AS path
      FROM nodes
      WHERE id IN (5497637, 2820230)
      UNION ALL
      SELECT n.id, n.parent_id, tp.depth + 1, tp.path || '.' || n.id::TEXT
      FROM nodes n
      JOIN tree_path tp ON n.id = tp.parent_id
    ),
    common_ancestor AS (
      SELECT parent_id
      FROM tree_path
      GROUP BY parent_id
      HAVING COUNT(*) = 2
    )
    SELECT
      (SELECT id FROM tree_path WHERE parent_id IS NULL LIMIT 1) AS root_id,
      (SELECT parent_id FROM common_ancestor LIMIT 1) AS lowest_common_ancestor,
      (SELECT MAX(depth) FROM tree_path) AS depth
[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (5043.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "birds_test"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (12.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, 1 AS depth, id::TEXT AS path
      FROM nodes
      WHERE id IN (5497637, 2820230)
      UNION ALL
      SELECT n.id, n.parent_id, tp.depth + 1, tp.path || '.' || n.id::TEXT
      FROM nodes n
      JOIN tree_path tp ON n.id = tp.parent_id
    )
    SELECT
      (SELECT id FROM tree_path WHERE parent_id IS NULL LIMIT 1) AS root_id,
      (SELECT parent_id FROM tree_path WHERE path = ANY (ARRAY(
        SELECT path
        FROM tree_path
        WHERE id IN (5497637, 2820230)
      )) LIMIT 1) AS lowest_common_ancestor,
      (SELECT MAX(depth) FROM tree_path) AS depth
[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (5045.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "birds_test"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (2.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, 1 AS depth, id::TEXT AS path
      FROM nodes
      WHERE id IN (5497637, 2820230)
      UNION ALL
      SELECT n.id, n.parent_id, tp.depth + 1, tp.path || '.' || n.id::TEXT
      FROM nodes n
      JOIN tree_path tp ON n.id = tp.parent_id
    )
    SELECT
      (SELECT id FROM tree_path WHERE parent_id IS NULL LIMIT 1) AS root_id,
      (SELECT parent_id FROM tree_path WHERE path = ANY (ARRAY(
        SELECT path
        FROM tree_path
        WHERE id IN (5497637, 2820230)
      )) LIMIT 1) AS lowest_common_ancestor,
      (SELECT depth FROM tree_path WHERE id = (SELECT parent_id FROM common_ancestor LIMIT 1)) AS depth
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (5039.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "birds_test"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (1.2ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, 1 AS depth, id::TEXT AS path
      FROM nodes
      WHERE id IN (5497637, 2820230)
      UNION ALL
      SELECT n.id, n.parent_id, tp.depth + 1, tp.path || '.' || n.id::TEXT
      FROM nodes n
      JOIN tree_path tp ON n.id = tp.parent_id
    )
    SELECT
      (SELECT id FROM tree_path WHERE parent_id IS NULL LIMIT 1) AS root_id,
      (SELECT parent_id FROM tree_path WHERE path = ANY (ARRAY(
        SELECT path
        FROM tree_path
        WHERE id IN (5497637, 2820230)
      )) LIMIT 1) AS lowest_common_ancestor,
      (SELECT depth FROM tree_path WHERE id = (SELECT parent_id FROM tree_path LIMIT 1)) AS depth
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (5045.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "birds_test"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, 1 AS depth, id::TEXT AS path
      FROM nodes
      WHERE id IN (5497637, 2820230)
      UNION ALL
      SELECT n.id, n.parent_id, tp.depth + 1, tp.path || '.' || n.id::TEXT
      FROM nodes n
      JOIN tree_path tp ON n.id = tp.parent_id
    ),
    common_ancestor AS (
      SELECT parent_id, COUNT(*) AS count
      FROM tree_path
      GROUP BY parent_id
      HAVING COUNT(*) = 2
    )
    SELECT
      (SELECT id FROM tree_path WHERE parent_id IS NULL LIMIT 1) AS root_id,
      (SELECT parent_id FROM common_ancestor LIMIT 1) AS lowest_common_ancestor,
      (SELECT depth FROM tree_path WHERE id = (SELECT parent_id FROM common_ancestor LIMIT 1)) AS depth
[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (5052.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "birds_test"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, 1 AS depth, id::TEXT AS path
      FROM nodes
      WHERE id IN (5497637, 2820230)
      UNION ALL
      SELECT n.id, n.parent_id, tp.depth + 1, tp.path || '.' || n.id::TEXT
      FROM nodes n
      JOIN tree_path tp ON n.id = tp.parent_id
    ),
    common_ancestors AS (
      SELECT parent_id
      FROM tree_path
      GROUP BY parent_id
      HAVING COUNT(*) = 2
    )
    SELECT
      (SELECT id FROM tree_path WHERE parent_id IS NULL LIMIT 1) AS root_id,
      (SELECT parent_id FROM common_ancestors LIMIT 1) AS lowest_common_ancestor,
      (SELECT depth FROM tree_path WHERE id = (SELECT parent_id FROM common_ancestors LIMIT 1)) AS depth
[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (5041.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "birds_test"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, 1 AS depth, id::TEXT AS path
      FROM nodes
      WHERE id IN (5497637, 2820230)
      UNION ALL
      SELECT n.id, n.parent_id, tp.depth + 1, tp.path || '.' || n.id::TEXT
      FROM nodes n
      JOIN tree_path tp ON n.id = tp.parent_id
    ),
    common_ancestor AS (
      SELECT parent_id, COUNT(*) AS count
      FROM tree_path
      GROUP BY parent_id
      HAVING COUNT(*) = 2
    )
    SELECT
      (SELECT id FROM tree_path WHERE parent_id IS NULL LIMIT 1) AS root_id,
      (SELECT parent_id FROM common_ancestor LIMIT 1) AS lowest_common_ancestor,
      (SELECT depth FROM tree_path WHERE id = (SELECT parent_id FROM common_ancestor LIMIT 1)) AS depth
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (5047.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "birds_test"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (1.1ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, 1 AS depth, id::TEXT AS path
      FROM nodes
      WHERE id IN (5497637, 2820230)
      UNION ALL
      SELECT n.id, n.parent_id, tp.depth + 1, tp.path || '.' || n.id::TEXT
      FROM nodes n
      JOIN tree_path tp ON n.id = tp.parent_id
    )
    SELECT
      (SELECT id FROM tree_path WHERE parent_id IS NULL LIMIT 1) AS root_id,
      (SELECT parent_id FROM tree_path WHERE path = ANY (ARRAY(
        SELECT path
        FROM tree_path
        WHERE id IN (5497637, 2820230)
      )) LIMIT 1) AS lowest_common_ancestor,
      (SELECT MAX(depth) FROM tree_path) AS depth
[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (3.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (53.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "birds_test"[0m
  [1m[35m (146.2ms)[0m  [1m[35mCREATE DATABASE "birds_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (24.0ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "ltree"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "birds" CASCADE[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "birds" ("id" bigserial primary key, "node_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_birds_on_node_id" ON "birds" ("node_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "nodes" CASCADE[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "nodes" ("id" bigserial primary key, "parent_id" integer DEFAULT 0, "path" ltree)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_nodes_on_parent_id" ON "nodes" ("parent_id")[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "birds" ADD CONSTRAINT "fk_rails_b54858e8c4"
FOREIGN KEY ("node_id")
  REFERENCES "nodes" ("id")
[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240513185950)[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240512204505);[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2024-05-15 03:35:58.906027', '2024-05-15 03:35:58.906031') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'f3997b0abf63a2445946db721357e15decbac978', '2024-05-15 03:35:58.908520', '2024-05-15 03:35:58.908522') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.1ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 130], ["parent_id", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 130], ["parent_id", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 130], ["parent_id", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 130], ["parent_id", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 130], ["parent_id", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36m[5497637, 2820230] (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, path AS path_ids
      FROM nodes
      WHERE id IN (?, ?)
      UNION ALL
      SELECT n.id, n.path AS path_ids
      FROM nodes n
      JOIN tree_path tp ON n.path <@ tp.path_ids
    )
    SELECT
      (SELECT id FROM tree_path WHERE path_ids ~ '^d' LIMIT 1) AS root_id,
      (SELECT id FROM tree_path WHERE path_ids ~ '^d' ORDER BY path_ids ASC LIMIT 1) AS lowest_common_ancestor,
      (SELECT MAX(nlevel(path_ids)) FROM tree_path) AS depth
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 130], ["parent_id", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 130], ["parent_id", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 130], ["parent_id", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 130], ["parent_id", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 130], ["parent_id", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36m[5497637, 2820230] (0.4ms)[0m  [1m[35m    WITH tree_path AS (
      SELECT id, path
      FROM nodes
      WHERE id IN (?, ?)
    )
    SELECT
      (SELECT id FROM tree_path WHERE path = ANY (ARRAY(
        SELECT path
        FROM tree_path
      )) LIMIT 1) AS root_id,
      (
        SELECT id
        FROM nodes a
        JOIN nodes b ON a.path @> b.path OR b.path @> a.path
        WHERE a.id = ? AND b.id = ?
        ORDER BY nlevel(a.path) DESC
        LIMIT 1
      ) AS lowest_common_ancestor,
      (
        SELECT GREATEST(nlevel(a.path), nlevel(b.path)) AS depth
        FROM nodes a
        JOIN nodes b ON a.path @> b.path OR b.path @> a.path
        WHERE a.id = ? AND b.id = ?
        ORDER BY depth DESC
        LIMIT 1
      ) AS depth
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 130], ["parent_id", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 130], ["parent_id", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 130], ["parent_id", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 130], ["parent_id", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 130], ["parent_id", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 130], ["parent_id", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36m{:node_a_id=>5497637, :node_b_id=>2820230} (0.3ms)[0m  [1m[35m    WITH tree_path AS (
      SELECT id, path
      FROM nodes
      WHERE id IN (:node_a_id, :node_b_id)
    )
    SELECT
      (SELECT id FROM tree_path LIMIT 1) AS root_id,
      (
        SELECT id
        FROM nodes
        WHERE id IN (SELECT unnest(string_to_array(path, '.'))::int FROM tree_path)
        GROUP BY id
        HAVING COUNT(id) > 1
        ORDER BY id ASC
        LIMIT 1
      ) AS lowest_common_ancestor,
      (
        SELECT MAX(LEAST(nlevel(a.path), nlevel(b.path))) AS depth
        FROM nodes a
        JOIN nodes b ON a.path @> b.path OR b.path @> a.path
        WHERE a.id = :node_a_id AND b.id = :node_b_id
      ) AS depth
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 130], ["parent_id", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 130], ["parent_id", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36m[5497637, 2820230] (0.4ms)[0m  [1m[35m    WITH tree_path AS (
      SELECT id, path
      FROM nodes
      WHERE id IN (?, ?)
    )
    SELECT
      (SELECT id FROM tree_path LIMIT 1) AS root_id,
      (
        SELECT id
        FROM nodes
        WHERE id IN (SELECT unnest(string_to_array(path, '.'))::int FROM tree_path)
        GROUP BY id
        HAVING COUNT(id) > 1
        ORDER BY id ASC
        LIMIT 1
      ) AS lowest_common_ancestor,
      (
        SELECT MAX(LEAST(nlevel(a.path), nlevel(b.path))) AS depth
        FROM nodes a
        JOIN nodes b ON a.path @> b.path OR b.path @> a.path
        WHERE a.id = ? AND b.id = ?
      ) AS depth
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 130], ["parent_id", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36m[5497637, 2820230, 5497637, 2820230] (0.5ms)[0m  [1m[35m    WITH tree_path AS (
      SELECT id, path
      FROM nodes
      WHERE id IN (?, ?)
    )
    SELECT
      (SELECT id FROM tree_path LIMIT 1) AS root_id,
      (
        SELECT id
        FROM nodes
        WHERE id IN (SELECT unnest(string_to_array(path, '.'))::int FROM tree_path)
        GROUP BY id
        HAVING COUNT(id) > 1
        ORDER BY id ASC
        LIMIT 1
      ) AS lowest_common_ancestor,
      (
        SELECT MAX(LEAST(nlevel(a.path), nlevel(b.path))) AS depth
        FROM nodes a
        JOIN nodes b ON a.path @> b.path OR b.path @> a.path
        WHERE a.id = ? AND b.id = ?
      ) AS depth
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 130], ["parent_id", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 130], ["parent_id", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.4ms)[0m  [1m[35m    WITH tree_path AS (
      SELECT id, path
      FROM nodes
      WHERE id IN (:node_a_id, :node_b_id)
    )
    SELECT
      (SELECT id FROM tree_path LIMIT 1) AS root_id,
      (
        SELECT id
        FROM nodes
        WHERE id IN (SELECT unnest(string_to_array(path, '.'))::int FROM tree_path)
        GROUP BY id
        HAVING COUNT(id) > 1
        ORDER BY id ASC
        LIMIT 1
      ) AS lowest_common_ancestor,
      (
        SELECT MAX(LEAST(nlevel(a.path), nlevel(b.path))) AS depth
        FROM nodes a
        JOIN nodes b ON a.path @> b.path OR b.path @> a.path
        WHERE a.id = :node_a_id AND b.id = :node_b_id
      ) AS depth
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 130], ["parent_id", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 130], ["parent_id", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.6ms)[0m  [1m[35m    WITH tree_path AS (
      SELECT id, path
      FROM nodes
      WHERE id IN (5497637, 2820230)
    )
    SELECT
      (SELECT id FROM tree_path LIMIT 1) AS root_id,
      (
        SELECT id
        FROM nodes
        WHERE id IN (SELECT unnest(string_to_array(path, '.'))::int FROM tree_path)
        GROUP BY id
        HAVING COUNT(id) > 1
        ORDER BY id ASC
        LIMIT 1
      ) AS lowest_common_ancestor,
      (
        SELECT MAX(LEAST(nlevel(a.path), nlevel(b.path))) AS depth
        FROM nodes a
        JOIN nodes b ON a.path @> b.path OR b.path @> a.path
        WHERE a.id = 5497637 AND b.id = 2820230
      ) AS depth
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 130], ["parent_id", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.4ms)[0m  [1m[35m    CREATE EXTENSION IF NOT EXISTS ltree;

    WITH tree_path AS (
      SELECT id, path
      FROM nodes
      WHERE id IN (5497637, 2820230)
    )
    SELECT
      (SELECT id FROM tree_path LIMIT 1) AS root_id,
      (
        SELECT id
        FROM nodes
        WHERE id IN (SELECT unnest(string_to_array(path, '.'))::int FROM tree_path)
        GROUP BY id
        HAVING COUNT(id) > 1
        ORDER BY id ASC
        LIMIT 1
      ) AS lowest_common_ancestor,
      (
        SELECT MAX(LEAST(nlevel(a.path), nlevel(b.path))) AS depth
        FROM nodes a
        JOIN nodes b ON a.path @> b.path OR b.path @> a.path
        WHERE a.id = 5497637 AND b.id = 2820230
      ) AS depth
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 130], ["parent_id", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS ltree[0m
  [1m[36mNode Load (0.5ms)[0m  [1m[35m    WITH tree_path AS (
      SELECT id, path
      FROM nodes
      WHERE id IN (5497637, 2820230)
    )
    SELECT
      (SELECT id FROM tree_path LIMIT 1) AS root_id,
      (
        SELECT id
        FROM nodes
        WHERE id IN (SELECT unnest(string_to_array(path, '.'))::int FROM tree_path)
        GROUP BY id
        HAVING COUNT(id) > 1
        ORDER BY id ASC
        LIMIT 1
      ) AS lowest_common_ancestor,
      (
        SELECT MAX(LEAST(nlevel(a.path), nlevel(b.path))) AS depth
        FROM nodes a
        JOIN nodes b ON a.path @> b.path OR b.path @> a.path
        WHERE a.id = 5497637 AND b.id = 2820230
      ) AS depth
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 130], ["parent_id", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS ltree[0m
  [1m[36mNode Load (3.8ms)[0m  [1m[35m    WITH tree_path AS (
      SELECT id, path
      FROM nodes
      WHERE id IN (5497637, 2820230)
    )
    SELECT
      (SELECT id FROM tree_path LIMIT 1) AS root_id,
      (
        SELECT id
        FROM nodes
        WHERE id IN (SELECT unnest(string_to_array(path::text, '.'))::int FROM tree_path)
        GROUP BY id
        HAVING COUNT(id) > 1
        ORDER BY id ASC
        LIMIT 1
      ) AS lowest_common_ancestor,
      (
        SELECT MAX(LEAST(nlevel(a.path), nlevel(b.path))) AS depth
        FROM nodes a
        JOIN nodes b ON a.path @> b.path OR b.path @> a.path
        WHERE a.id = 5497637 AND b.id = 2820230
      ) AS depth
[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 130], ["parent_id", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (1.7ms)[0m  [1m[35m    WITH tree_path AS (
      SELECT id, path
      FROM nodes
      WHERE id IN (5497637, 2820230)
    )
    SELECT
      (SELECT id FROM tree_path LIMIT 1) AS root_id,
      (
        SELECT id
        FROM nodes
        WHERE id IN (SELECT unnest(string_to_array(path::text, '.'))::int FROM tree_path)
        GROUP BY id
        HAVING COUNT(id) > 1
        ORDER BY id ASC
        LIMIT 1
      ) AS lowest_common_ancestor,
      (
        SELECT MAX(LEAST(nlevel(a.path), nlevel(b.path))) AS depth
        FROM nodes a
        JOIN nodes b ON a.path @> b.path OR b.path @> a.path
        WHERE a.id = 5497637 AND b.id = 2820230
      ) AS depth
[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 130], ["parent_id", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (1.7ms)[0m  [1m[35m    WITH tree_path AS (
      SELECT id, path
      FROM nodes
      WHERE id IN (5497637, 2820230)
    )
    SELECT
      (SELECT id FROM tree_path LIMIT 1) AS root_id,
      (
        SELECT id
        FROM nodes
        WHERE id IN (SELECT unnest(string_to_array(path::text, '.'))::int FROM tree_path)
        GROUP BY id
        HAVING COUNT(id) > 1
        ORDER BY id ASC
        LIMIT 1
      ) AS lowest_common_ancestor,
      (
        SELECT MAX(LEAST(nlevel(a.path), nlevel(b.path))) AS depth
        FROM nodes a
        JOIN nodes b ON a.path @> b.path OR b.path @> a.path
        WHERE a.id = 5497637 AND b.id = 2820230
      ) AS depth
[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 130], ["parent_id", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 130], ["parent_id", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[35m    WITH tree_path AS (
      SELECT id, path
      FROM nodes
      WHERE id IN (5497637, 2820230)
    )
    SELECT
      (SELECT id FROM tree_path LIMIT 1) AS root_id,
      (
        SELECT id
        FROM nodes
        WHERE id IN (SELECT unnest(string_to_array(path::text, '.'))::int FROM tree_path)
        GROUP BY id
        HAVING COUNT(id) > 1
        ORDER BY id ASC
        LIMIT 1
      ) AS lowest_common_ancestor,
      (
        SELECT MAX(LEAST(nlevel(a.path), nlevel(b.path))) AS depth
        FROM nodes a
        JOIN nodes b ON a.path @> b.path OR b.path @> a.path
        WHERE a.id = 5497637 AND b.id = 2820230
      ) AS depth
[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Load (0.9ms)[0m  [1m[35m    WITH tree_path AS (
      SELECT id, path
      FROM nodes
      WHERE id IN (5497637, 2820230)
    )
    SELECT
      (SELECT id FROM tree_path LIMIT 1) AS root_id,
      (
        SELECT id
        FROM nodes
        WHERE id IN (SELECT unnest(string_to_array(path::text, '.'))::int FROM tree_path)
        GROUP BY id
        HAVING COUNT(id) > 1
        ORDER BY id ASC
        LIMIT 1
      ) AS lowest_common_ancestor,
      (
        SELECT MAX(LEAST(nlevel(a.path), nlevel(b.path))) AS depth
        FROM nodes a
        JOIN nodes b ON a.path @> b.path OR b.path @> a.path
        WHERE a.id = 5497637 AND b.id = 2820230
      ) AS depth
[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Load (0.7ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.4ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (1.7ms)[0m  [1m[35m    WITH tree_path AS (
      SELECT id, path
      FROM nodes
      WHERE id IN (5497637, 2820230)
    )
    SELECT
      (SELECT id FROM tree_path LIMIT 1) AS root_id,
      (
        SELECT id
        FROM nodes
        WHERE id IN (SELECT unnest(string_to_array(path::text, '.'))::int FROM tree_path)
        GROUP BY id
        HAVING COUNT(id) > 1
        ORDER BY id ASC
        LIMIT 1
      ) AS lowest_common_ancestor,
      (
        SELECT MAX(LEAST(nlevel(a.path), nlevel(b.path))) AS depth
        FROM nodes a
        JOIN nodes b ON a.path @> b.path OR b.path @> a.path
        WHERE a.id = 5497637 AND b.id = 2820230
      ) AS depth
[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.1ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[35m
    WITH RECURSIVE path_parts(id, path_parts) AS (
      SELECT id, string_to_array(path, '.') AS path_parts
      FROM nodes
      WHERE id IN (5497637, 2820230)
    UNION ALL
      SELECT n.id, p.path_parts[2:array_length(p.path_parts,1)] AS path_parts
      FROM nodes n
      JOIN path_parts p ON n.parent_id = p.path_parts[1]::int
      WHERE array_length(p.path_parts,1) > 1
    )
    SELECT id
    FROM nodes
    WHERE id IN (SELECT id FROM path_parts)
    GROUP BY id
    HAVING count(id) = 2
    LIMIT 1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[35m (0.5ms)[0m  [1m[35m
    WITH RECURSIVE path_parts(id, path_parts) AS (
      SELECT id, subpath(path, 0, 1) AS path_parts
      FROM nodes
      WHERE id IN (5497637, 2820230)
      UNION ALL
      SELECT n.id, subpath(p.path_parts, 2) AS path_parts
      FROM nodes n
      JOIN path_parts p ON n.parent_id = p.path_parts[1]::int
      WHERE array_length(p.path_parts,1) > 1
    )
    SELECT id
    FROM nodes
    WHERE id IN (SELECT id FROM path_parts)
    GROUP BY id
    HAVING count(id) = 2
    LIMIT 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[35m (0.4ms)[0m  [1m[35m
    WITH RECURSIVE path_parts(id, path_parts) AS (
      SELECT id, string_to_array(subpath(path::text, 1), '.') AS path_parts
      FROM nodes
      WHERE id IN (5497637, 2820230)
      UNION ALL
      SELECT n.id, string_to_array(subpath(p.path_parts::text, 2), '.') AS path_parts
      FROM nodes n
      JOIN path_parts p ON n.parent_id = p.path_parts[1]::int
      WHERE array_length(p.path_parts,1) > 1
    )
    SELECT id
    FROM nodes
    WHERE id IN (SELECT id FROM path_parts)
    GROUP BY id
    HAVING count(id) = 2
    LIMIT 1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[35m (0.5ms)[0m  [1m[35m
    WITH RECURSIVE path_parts(id, path_parts) AS (
      SELECT id, string_to_array(subpath(path::text, 1), '.') AS path_parts
      FROM nodes
      WHERE id IN (5497637, 2820230)
      UNION ALL
      SELECT n.id, string_to_array(subpath(p.path_parts::text, 2), '.') AS path_parts
      FROM nodes n
      JOIN path_parts p ON n.parent_id = p.path_parts[1]::int
      WHERE array_length(p.path_parts,1) > 1
    )
    SELECT id
    FROM nodes
    WHERE id IN (SELECT id FROM path_parts)
    GROUP BY id
    HAVING count(id) = 2
    LIMIT 1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.1ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.4ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.4ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.4ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Pluck (0.4ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Pluck (0.5ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.1ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.6ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.4ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.5ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.5ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.4ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.5ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (6.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.1ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (1.3ms)[0m  [1m[34mSELECT nodes.id, COALESCE(parents.path, '') AS parent_path FROM "nodes" LEFT JOIN nodes parents ON nodes.parent_id = parents.id[0m
  [1m[36mNode Update All (0.5ms)[0m  [1m[33mUPDATE "nodes" SET "path" = $1 WHERE "nodes"."id" = $2[0m  [["path", "130"], ["id", 130]]
  [1m[36mNode Update All (0.2ms)[0m  [1m[33mUPDATE "nodes" SET "path" = $1 WHERE "nodes"."id" = $2[0m  [["path", "125"], ["id", 125]]
  [1m[36mNode Update All (0.3ms)[0m  [1m[33mUPDATE "nodes" SET "path" = $1 WHERE "nodes"."id" = $2[0m  [["path", "2820230"], ["id", 2820230]]
  [1m[36mNode Update All (0.2ms)[0m  [1m[33mUPDATE "nodes" SET "path" = $1 WHERE "nodes"."id" = $2[0m  [["path", "4430546"], ["id", 4430546]]
  [1m[36mNode Update All (0.2ms)[0m  [1m[33mUPDATE "nodes" SET "path" = $1 WHERE "nodes"."id" = $2[0m  [["path", "5497637"], ["id", 5497637]]
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT nodes.id, COALESCE(parents.path, '') AS parent_path FROM "nodes" LEFT JOIN nodes parents ON nodes.parent_id = parents.id[0m
  [1m[36mNode Update All (0.2ms)[0m  [1m[33mUPDATE "nodes" SET "path" = $1 WHERE "nodes"."id" = $2[0m  [["path", "130"], ["id", 130]]
  [1m[36mNode Update All (0.2ms)[0m  [1m[33mUPDATE "nodes" SET "path" = $1 WHERE "nodes"."id" = $2[0m  [["path", "125"], ["id", 125]]
  [1m[36mNode Update All (0.2ms)[0m  [1m[33mUPDATE "nodes" SET "path" = $1 WHERE "nodes"."id" = $2[0m  [["path", "2820230"], ["id", 2820230]]
  [1m[36mNode Update All (0.2ms)[0m  [1m[33mUPDATE "nodes" SET "path" = $1 WHERE "nodes"."id" = $2[0m  [["path", "4430546"], ["id", 4430546]]
  [1m[36mNode Update All (0.2ms)[0m  [1m[33mUPDATE "nodes" SET "path" = $1 WHERE "nodes"."id" = $2[0m  [["path", "5497637"], ["id", 5497637]]
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT nodes.id, COALESCE(parents.path, '') AS parent_path FROM "nodes" LEFT JOIN nodes parents ON nodes.parent_id = parents.id[0m
  [1m[36mNode Update All (0.1ms)[0m  [1m[33mUPDATE "nodes" SET "path" = $1 WHERE "nodes"."id" = $2[0m  [["path", "130"], ["id", 130]]
  [1m[36mNode Update All (0.1ms)[0m  [1m[33mUPDATE "nodes" SET "path" = $1 WHERE "nodes"."id" = $2[0m  [["path", "125"], ["id", 125]]
  [1m[36mNode Update All (0.1ms)[0m  [1m[33mUPDATE "nodes" SET "path" = $1 WHERE "nodes"."id" = $2[0m  [["path", "2820230"], ["id", 2820230]]
  [1m[36mNode Update All (0.1ms)[0m  [1m[33mUPDATE "nodes" SET "path" = $1 WHERE "nodes"."id" = $2[0m  [["path", "4430546"], ["id", 4430546]]
  [1m[36mNode Update All (0.1ms)[0m  [1m[33mUPDATE "nodes" SET "path" = $1 WHERE "nodes"."id" = $2[0m  [["path", "5497637"], ["id", 5497637]]
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT nodes.id, COALESCE(parents.path, '') AS parent_path FROM "nodes" LEFT JOIN nodes parents ON nodes.parent_id = parents.id[0m
  [1m[36mNode Update All (0.3ms)[0m  [1m[33mUPDATE "nodes" SET "path" = $1 WHERE "nodes"."id" = $2[0m  [["path", "130"], ["id", 130]]
  [1m[36mNode Update All (0.3ms)[0m  [1m[33mUPDATE "nodes" SET "path" = $1 WHERE "nodes"."id" = $2[0m  [["path", "125"], ["id", 125]]
  [1m[36mNode Update All (0.3ms)[0m  [1m[33mUPDATE "nodes" SET "path" = $1 WHERE "nodes"."id" = $2[0m  [["path", "2820230"], ["id", 2820230]]
  [1m[36mNode Update All (0.2ms)[0m  [1m[33mUPDATE "nodes" SET "path" = $1 WHERE "nodes"."id" = $2[0m  [["path", "4430546"], ["id", 4430546]]
  [1m[36mNode Update All (0.3ms)[0m  [1m[33mUPDATE "nodes" SET "path" = $1 WHERE "nodes"."id" = $2[0m  [["path", "5497637"], ["id", 5497637]]
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (3.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT nodes.id, COALESCE(parents.path, '') AS parent_path FROM "nodes" LEFT JOIN nodes parents ON nodes.parent_id = parents.id[0m
  [1m[36mNode Update All (0.2ms)[0m  [1m[33mUPDATE "nodes" SET "path" = $1 WHERE "nodes"."id" = $2[0m  [["path", "130"], ["id", 130]]
  [1m[36mNode Update All (0.2ms)[0m  [1m[33mUPDATE "nodes" SET "path" = $1 WHERE "nodes"."id" = $2[0m  [["path", "125"], ["id", 125]]
  [1m[36mNode Update All (0.2ms)[0m  [1m[33mUPDATE "nodes" SET "path" = $1 WHERE "nodes"."id" = $2[0m  [["path", "2820230"], ["id", 2820230]]
  [1m[36mNode Update All (0.2ms)[0m  [1m[33mUPDATE "nodes" SET "path" = $1 WHERE "nodes"."id" = $2[0m  [["path", "4430546"], ["id", 4430546]]
  [1m[36mNode Update All (0.2ms)[0m  [1m[33mUPDATE "nodes" SET "path" = $1 WHERE "nodes"."id" = $2[0m  [["path", "5497637"], ["id", 5497637]]
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Create (0.1ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Create (0.1ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Create (0.1ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Create (0.1ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Create (0.1ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Create (0.1ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Create (0.1ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Create (0.1ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Create (0.1ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.5ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"2820230"}
  [1m[36mNode Pluck (0.4ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 5497637]]
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1876)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"130"}
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 5497637]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 472)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"4430546"}
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 5497637]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 471)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"9", "node_b_id"=>"4430546"}
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 9]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 464)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"4430546", "node_b_id"=>"4430546"}
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 471)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"2820230"}
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 5497637]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1876)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"130"}
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 5497637]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 837)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"4430546"}
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 5497637]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 471)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"9", "node_b_id"=>"4430546"}
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 9]]
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 464)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"4430546", "node_b_id"=>"4430546"}
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 471)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"2820230"}
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 5497637]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1876)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"130"}
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 5497637]]
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 837)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"4430546"}
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 5497637]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 471)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"9", "node_b_id"=>"4430546"}
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 9]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 464)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"4430546", "node_b_id"=>"4430546"}
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 471)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (4.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"2820230"}
  [1m[35m (1.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 5497637]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.7ms | Allocations: 1975)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (7.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"130"}
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 5497637]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 534)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"4430546"}
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 5497637]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 533)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"9", "node_b_id"=>"4430546"}
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 9]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 526)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"4430546", "node_b_id"=>"4430546"}
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 533)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"2820230"}
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 5497637]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 1975)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"130"}
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 5497637]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 905)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"4430546"}
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 5497637]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 533)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"9", "node_b_id"=>"4430546"}
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 9]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 526)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"4430546", "node_b_id"=>"4430546"}
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 533)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"2820230"}
  [1m[35m (2.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.5ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 5497637]]
Completed 200 OK in 32173ms (Views: 0.3ms | ActiveRecord: 2.8ms | Allocations: 72443)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"130"}
Completed 500 Internal Server Error in 2577ms (ActiveRecord: 0.0ms | Allocations: 4793)
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"2820230"}
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 5497637]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 1984)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"130"}
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 5497637]]
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.8ms | Allocations: 916)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"4430546"}
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 5497637]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 546)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"9", "node_b_id"=>"4430546"}
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 9]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 526)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"4430546", "node_b_id"=>"4430546"}
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 544)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"2820230"}
  [1m[35m (1.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 5497637]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.7ms | Allocations: 1984)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"130"}
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 5497637]]
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 0.8ms | Allocations: 547)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"4430546"}
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 5497637]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 546)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"9", "node_b_id"=>"4430546"}
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 9]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 526)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"4430546", "node_b_id"=>"4430546"}
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 544)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (5.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"2820230"}
  [1m[35m (1.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 5497637]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 1984)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"2820230"}
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 5497637]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 1984)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.5ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"2820230"}
  [1m[35m (2.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.5ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 5497637]]
Completed 200 OK in 34933ms (Views: 0.3ms | ActiveRecord: 3.3ms | Allocations: 73025)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"2820230"}
  [1m[35m (2.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.5ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
Completed 200 OK in 16026ms (Views: 0.3ms | ActiveRecord: 2.9ms | Allocations: 72882)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"130"}
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"2820230"}
  [1m[35m (1.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 1987)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"130"}
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 548)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (4.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"4430546"}
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 549)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (6.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (5.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"9", "node_b_id"=>"4430546"}
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 534)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"4430546", "node_b_id"=>"4430546"}
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 544)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"2820230"}
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 1987)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"130"}
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 548)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"4430546"}
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 549)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"9", "node_b_id"=>"4430546"}
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.4ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 534)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"4430546", "node_b_id"=>"4430546"}
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 544)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (3.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (4.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"2820230"}
  [1m[35m (12.1ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.5ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
Completed 200 OK in 20ms (Views: 0.2ms | ActiveRecord: 12.5ms | Allocations: 1987)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"130"}
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
Completed 200 OK in 11ms (Views: 5.3ms | ActiveRecord: 0.7ms | Allocations: 548)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"4430546"}
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 549)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"9", "node_b_id"=>"4430546"}
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 534)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"4430546", "node_b_id"=>"4430546"}
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 544)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.9ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (2.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 08:17:44.386210"], ["updated_at", "2024-05-15 08:17:44.386210"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 08:17:44.390863"], ["updated_at", "2024-05-15 08:17:44.390863"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 08:17:44.392343"], ["updated_at", "2024-05-15 08:17:44.392343"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 08:17:44.393792"], ["updated_at", "2024-05-15 08:17:44.393792"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 08:17:44.395647"], ["updated_at", "2024-05-15 08:17:44.395647"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Pluck (0.8ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" INNER JOIN "nodes" ON "nodes"."id" = "birds"."node_id" WHERE (nodes.id IN (125,4430546) OR nodes.id IN (SELECT id FROM nodes WHERE ancestors @> ARRAY[125,4430546]::integer[]))[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 08:17:44.473869"], ["updated_at", "2024-05-15 08:17:44.473869"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 08:17:44.475662"], ["updated_at", "2024-05-15 08:17:44.475662"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 08:17:44.477713"], ["updated_at", "2024-05-15 08:17:44.477713"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 08:17:44.479207"], ["updated_at", "2024-05-15 08:17:44.479207"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 08:17:44.480636"], ["updated_at", "2024-05-15 08:17:44.480636"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Pluck (0.3ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" INNER JOIN "nodes" ON "nodes"."id" = "birds"."node_id" WHERE (nodes.id IN (2820230,5497637) OR nodes.id IN (SELECT id FROM nodes WHERE ancestors @> ARRAY[2820230,5497637]::integer[]))[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 08:17:44.487972"], ["updated_at", "2024-05-15 08:17:44.487972"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 08:17:44.489318"], ["updated_at", "2024-05-15 08:17:44.489318"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 08:17:44.490807"], ["updated_at", "2024-05-15 08:17:44.490807"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 08:17:44.492764"], ["updated_at", "2024-05-15 08:17:44.492764"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 08:17:44.494321"], ["updated_at", "2024-05-15 08:17:44.494321"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "birds" INNER JOIN "nodes" ON "nodes"."id" = "birds"."node_id" WHERE (nodes.id IN (130) OR nodes.id IN (SELECT id FROM nodes WHERE ancestors @> ARRAY[130]::integer[])) LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (2.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (3.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 20:27:31.173446"], ["updated_at", "2024-05-15 20:27:31.173446"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 20:27:31.178950"], ["updated_at", "2024-05-15 20:27:31.178950"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 20:27:31.181410"], ["updated_at", "2024-05-15 20:27:31.181410"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 20:27:31.184012"], ["updated_at", "2024-05-15 20:27:31.184012"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 20:27:31.186200"], ["updated_at", "2024-05-15 20:27:31.186200"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Pluck (0.6ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" INNER JOIN "nodes" ON "nodes"."id" = "birds"."node_id" WHERE (nodes.id IN (125,4430546) OR nodes.id IN (SELECT id FROM nodes WHERE ancestors @> ARRAY[125,4430546]::integer[]))[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.6ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 20:29:09.069052"], ["updated_at", "2024-05-15 20:29:09.069052"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 20:29:09.071487"], ["updated_at", "2024-05-15 20:29:09.071487"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.4ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 20:29:09.073614"], ["updated_at", "2024-05-15 20:29:09.073614"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 20:29:09.075301"], ["updated_at", "2024-05-15 20:29:09.075301"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 20:29:09.077123"], ["updated_at", "2024-05-15 20:29:09.077123"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.4ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 20:33:51.689435"], ["updated_at", "2024-05-15 20:33:51.689435"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 20:33:51.691700"], ["updated_at", "2024-05-15 20:33:51.691700"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 20:33:51.693313"], ["updated_at", "2024-05-15 20:33:51.693313"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 20:33:51.695640"], ["updated_at", "2024-05-15 20:33:51.695640"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 20:33:51.696977"], ["updated_at", "2024-05-15 20:33:51.696977"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Pluck (0.8ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" INNER JOIN "nodes" ON "nodes"."id" = "birds"."node_id" WHERE (nodes.path LIKE ANY (array['%125%','%4430546%']))[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.9ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.6ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 20:34:45.220907"], ["updated_at", "2024-05-15 20:34:45.220907"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 20:34:45.223444"], ["updated_at", "2024-05-15 20:34:45.223444"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 20:34:45.225291"], ["updated_at", "2024-05-15 20:34:45.225291"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 20:34:45.228468"], ["updated_at", "2024-05-15 20:34:45.228468"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 20:34:45.230335"], ["updated_at", "2024-05-15 20:34:45.230335"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Pluck (0.7ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" INNER JOIN "nodes" ON "nodes"."id" = "birds"."node_id" WHERE (nodes.path LIKE ANY (array['130.125','130.4430546']))[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.9ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.6ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 20:35:32.191275"], ["updated_at", "2024-05-15 20:35:32.191275"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 20:35:32.194320"], ["updated_at", "2024-05-15 20:35:32.194320"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 20:35:32.196425"], ["updated_at", "2024-05-15 20:35:32.196425"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 20:35:32.199088"], ["updated_at", "2024-05-15 20:35:32.199088"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 20:35:32.201388"], ["updated_at", "2024-05-15 20:35:32.201388"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Pluck (1.4ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" INNER JOIN "nodes" ON "nodes"."id" = "birds"."node_id" WHERE (nodes.path ~ '(125|4430546)')[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 20:36:22.774657"], ["updated_at", "2024-05-15 20:36:22.774657"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 20:36:22.776623"], ["updated_at", "2024-05-15 20:36:22.776623"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 20:36:22.778254"], ["updated_at", "2024-05-15 20:36:22.778254"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 20:36:22.779751"], ["updated_at", "2024-05-15 20:36:22.779751"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 20:36:22.781331"], ["updated_at", "2024-05-15 20:36:22.781331"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Pluck (0.8ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" INNER JOIN "nodes" ON "nodes"."id" = "birds"."node_id" WHERE (nodes.path ~ '(130.125.*|130.4430546.*)')[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 20:37:02.855691"], ["updated_at", "2024-05-15 20:37:02.855691"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 20:37:02.858233"], ["updated_at", "2024-05-15 20:37:02.858233"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 20:37:02.859897"], ["updated_at", "2024-05-15 20:37:02.859897"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 20:37:02.861467"], ["updated_at", "2024-05-15 20:37:02.861467"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 20:37:02.863770"], ["updated_at", "2024-05-15 20:37:02.863770"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Pluck (0.8ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" INNER JOIN "nodes" ON "nodes"."id" = "birds"."node_id" WHERE (nodes.path ~ '130.125.*|130.4430546.*')[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 20:37:43.470297"], ["updated_at", "2024-05-15 20:37:43.470297"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 20:37:43.472501"], ["updated_at", "2024-05-15 20:37:43.472501"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 20:37:43.474008"], ["updated_at", "2024-05-15 20:37:43.474008"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 20:37:43.475740"], ["updated_at", "2024-05-15 20:37:43.475740"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 20:37:43.477039"], ["updated_at", "2024-05-15 20:37:43.477039"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mBird Pluck (1.1ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" INNER JOIN "nodes" ON "nodes"."id" = "birds"."node_id" WHERE (nodes.path ~ '130.125.*|| '' '' || 130.4430546.*')[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.6ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 20:38:52.357457"], ["updated_at", "2024-05-15 20:38:52.357457"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 20:38:52.359894"], ["updated_at", "2024-05-15 20:38:52.359894"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 20:38:52.361643"], ["updated_at", "2024-05-15 20:38:52.361643"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 20:38:52.363047"], ["updated_at", "2024-05-15 20:38:52.363047"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 20:38:52.364451"], ["updated_at", "2024-05-15 20:38:52.364451"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Pluck (0.8ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" INNER JOIN "nodes" ON "nodes"."id" = "birds"."node_id" WHERE (nodes.path ~ '130.125|| '' '' || 130.4430546')[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.7ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 20:39:36.870236"], ["updated_at", "2024-05-15 20:39:36.870236"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 20:39:36.872430"], ["updated_at", "2024-05-15 20:39:36.872430"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 20:39:36.874075"], ["updated_at", "2024-05-15 20:39:36.874075"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 20:39:36.875889"], ["updated_at", "2024-05-15 20:39:36.875889"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 20:39:36.877346"], ["updated_at", "2024-05-15 20:39:36.877346"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Pluck (0.7ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" INNER JOIN "nodes" ON "nodes"."id" = "birds"."node_id" WHERE (nodes.path ~ '130.125|| ''|'' || 130.4430546')[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 20:40:11.832061"], ["updated_at", "2024-05-15 20:40:11.832061"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 20:40:11.834261"], ["updated_at", "2024-05-15 20:40:11.834261"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 20:40:11.835655"], ["updated_at", "2024-05-15 20:40:11.835655"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 20:40:11.837206"], ["updated_at", "2024-05-15 20:40:11.837206"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 20:40:11.838508"], ["updated_at", "2024-05-15 20:40:11.838508"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 20:41:49.048159"], ["updated_at", "2024-05-15 20:41:49.048159"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 20:41:49.050591"], ["updated_at", "2024-05-15 20:41:49.050591"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 20:41:49.052205"], ["updated_at", "2024-05-15 20:41:49.052205"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 20:41:49.053673"], ["updated_at", "2024-05-15 20:41:49.053673"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 20:41:49.055544"], ["updated_at", "2024-05-15 20:41:49.055544"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.7ms)[0m  [1m[34mSELECT "birds".* FROM "birds" INNER JOIN "nodes" ON "nodes"."id" = "birds"."node_id" WHERE (nodes.path LIKE ANY (array['%125%','%4430546%'])) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mBird Pluck (0.5ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" INNER JOIN "nodes" ON "nodes"."id" = "birds"."node_id" WHERE (nodes.path LIKE ANY (array['%125%','%4430546%']))[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 20:42:40.920525"], ["updated_at", "2024-05-15 20:42:40.920525"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 20:42:40.922721"], ["updated_at", "2024-05-15 20:42:40.922721"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 20:42:40.924051"], ["updated_at", "2024-05-15 20:42:40.924051"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 20:42:40.925369"], ["updated_at", "2024-05-15 20:42:40.925369"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 20:42:40.926890"], ["updated_at", "2024-05-15 20:42:40.926890"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.7ms)[0m  [1m[34mSELECT "birds".* FROM "birds" INNER JOIN "nodes" ON "nodes"."id" = "birds"."node_id" WHERE (nodes.path LIKE ANY (array['%125%','%4430546%'])) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mBird Pluck (0.7ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" INNER JOIN "nodes" ON "nodes"."id" = "birds"."node_id" WHERE (nodes.path LIKE ANY (array['%125%','%4430546%']))[0m
  [1m[36mBird Pluck (0.5ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" INNER JOIN "nodes" ON "nodes"."id" = "birds"."node_id" WHERE (nodes.path LIKE ANY (array['%125%','%4430546%']))[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 20:43:11.562927"], ["updated_at", "2024-05-15 20:43:11.562927"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 20:43:11.565162"], ["updated_at", "2024-05-15 20:43:11.565162"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 20:43:11.567022"], ["updated_at", "2024-05-15 20:43:11.567022"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 20:43:11.568536"], ["updated_at", "2024-05-15 20:43:11.568536"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 20:43:11.569838"], ["updated_at", "2024-05-15 20:43:11.569838"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.8ms)[0m  [1m[34mSELECT "birds".* FROM "birds" INNER JOIN "nodes" ON "nodes"."id" = "birds"."node_id" WHERE (nodes.path LIKE ANY (array['%125%','%4430546%'])) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mBird Pluck (0.6ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" INNER JOIN "nodes" ON "nodes"."id" = "birds"."node_id" WHERE (nodes.path LIKE ANY (array['%125%','%4430546%']))[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 20:44:41.103482"], ["updated_at", "2024-05-15 20:44:41.103482"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 20:44:41.106084"], ["updated_at", "2024-05-15 20:44:41.106084"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 20:44:41.108047"], ["updated_at", "2024-05-15 20:44:41.108047"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 20:44:41.109829"], ["updated_at", "2024-05-15 20:44:41.109829"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 20:44:41.111242"], ["updated_at", "2024-05-15 20:44:41.111242"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.7ms)[0m  [1m[34mSELECT "birds".* FROM "birds" INNER JOIN "nodes" ON "nodes"."id" = "birds"."node_id" WHERE (node.path ~ ('^.+' || '125|4430546' || '.+')) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mBird Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "birds" INNER JOIN "nodes" ON "nodes"."id" = "birds"."node_id" WHERE (node.path ~ ('^.+' || '125|4430546' || '.+'))[0m
  [1m[36mBird Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "birds" INNER JOIN "nodes" ON "nodes"."id" = "birds"."node_id" WHERE (node.path ~ ('^.+' || '125|4430546' || '.+'))[0m
  [1m[36mBird Pluck (0.4ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" INNER JOIN "nodes" ON "nodes"."id" = "birds"."node_id" WHERE (node.path ~ ('^.+' || '125|4430546' || '.+'))[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.7ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 20:45:07.370857"], ["updated_at", "2024-05-15 20:45:07.370857"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 20:45:07.373167"], ["updated_at", "2024-05-15 20:45:07.373167"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 20:45:07.375769"], ["updated_at", "2024-05-15 20:45:07.375769"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 20:45:07.377262"], ["updated_at", "2024-05-15 20:45:07.377262"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 20:45:07.378621"], ["updated_at", "2024-05-15 20:45:07.378621"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Pluck (0.8ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" INNER JOIN "nodes" ON "nodes"."id" = "birds"."node_id" WHERE (node.path ~ ('^.+' || '125|4430546' || '.+'))[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 20:46:29.658107"], ["updated_at", "2024-05-15 20:46:29.658107"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 20:46:29.660340"], ["updated_at", "2024-05-15 20:46:29.660340"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 20:46:29.661951"], ["updated_at", "2024-05-15 20:46:29.661951"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 20:46:29.663697"], ["updated_at", "2024-05-15 20:46:29.663697"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 20:46:29.665139"], ["updated_at", "2024-05-15 20:46:29.665139"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.8ms)[0m  [1m[34mSELECT "birds".* FROM "birds" INNER JOIN "nodes" ON "nodes"."id" = "birds"."node_id" WHERE (nodes.path ~ ('^.+' || '125|4430546' || '.+')) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mBird Pluck (0.6ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" INNER JOIN "nodes" ON "nodes"."id" = "birds"."node_id" WHERE (nodes.path ~ ('^.+' || '125|4430546' || '.+'))[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.7ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 20:46:39.736836"], ["updated_at", "2024-05-15 20:46:39.736836"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 20:46:39.738812"], ["updated_at", "2024-05-15 20:46:39.738812"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 20:46:39.740172"], ["updated_at", "2024-05-15 20:46:39.740172"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 20:46:39.741674"], ["updated_at", "2024-05-15 20:46:39.741674"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 20:46:39.743016"], ["updated_at", "2024-05-15 20:46:39.743016"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Pluck (0.8ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" INNER JOIN "nodes" ON "nodes"."id" = "birds"."node_id" WHERE (nodes.path ~ ('^.+' || '125|4430546' || '.+'))[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (1.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.8ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 20:47:27.529984"], ["updated_at", "2024-05-15 20:47:27.529984"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 20:47:27.533216"], ["updated_at", "2024-05-15 20:47:27.533216"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 20:47:27.535300"], ["updated_at", "2024-05-15 20:47:27.535300"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 20:47:27.537720"], ["updated_at", "2024-05-15 20:47:27.537720"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 20:47:27.539859"], ["updated_at", "2024-05-15 20:47:27.539859"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (1.9ms)[0m  [1m[34mSELECT "birds".* FROM "birds" INNER JOIN "nodes" ON "nodes"."id" = "birds"."node_id" WHERE (string_to_array(nodes.path::text, '.') && 125,4430546) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mBird Pluck (0.4ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" INNER JOIN "nodes" ON "nodes"."id" = "birds"."node_id" WHERE (string_to_array(nodes.path::text, '.') && 125,4430546)[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 20:47:35.789491"], ["updated_at", "2024-05-15 20:47:35.789491"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 20:47:35.791744"], ["updated_at", "2024-05-15 20:47:35.791744"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 20:47:35.793399"], ["updated_at", "2024-05-15 20:47:35.793399"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 20:47:35.795192"], ["updated_at", "2024-05-15 20:47:35.795192"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 20:47:35.796595"], ["updated_at", "2024-05-15 20:47:35.796595"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Pluck (0.8ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" INNER JOIN "nodes" ON "nodes"."id" = "birds"."node_id" WHERE (string_to_array(nodes.path::text, '.') && 125,4430546)[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 20:47:58.900321"], ["updated_at", "2024-05-15 20:47:58.900321"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 20:47:58.902566"], ["updated_at", "2024-05-15 20:47:58.902566"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 20:47:58.904174"], ["updated_at", "2024-05-15 20:47:58.904174"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 20:47:58.905870"], ["updated_at", "2024-05-15 20:47:58.905870"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 20:47:58.907138"], ["updated_at", "2024-05-15 20:47:58.907138"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Load (0.4ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" ORDER BY "nodes"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mNode Load (0.4ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" ORDER BY "nodes"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mBird Pluck (0.8ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" INNER JOIN "nodes" ON "nodes"."id" = "birds"."node_id" WHERE (string_to_array(nodes.path::text, '.') && 125,4430546)[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.7ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 20:49:16.545798"], ["updated_at", "2024-05-15 20:49:16.545798"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 20:49:16.547899"], ["updated_at", "2024-05-15 20:49:16.547899"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 20:49:16.549608"], ["updated_at", "2024-05-15 20:49:16.549608"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 20:49:16.551636"], ["updated_at", "2024-05-15 20:49:16.551636"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 20:49:16.553354"], ["updated_at", "2024-05-15 20:49:16.553354"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Pluck (0.7ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" INNER JOIN "nodes" ON "nodes"."id" = "birds"."node_id" WHERE (string_to_array(nodes.path, '.') && 125,4430546)[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.6ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 20:50:20.832547"], ["updated_at", "2024-05-15 20:50:20.832547"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 20:50:20.835054"], ["updated_at", "2024-05-15 20:50:20.835054"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 20:50:20.836903"], ["updated_at", "2024-05-15 20:50:20.836903"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 20:50:20.838693"], ["updated_at", "2024-05-15 20:50:20.838693"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 20:50:20.840500"], ["updated_at", "2024-05-15 20:50:20.840500"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Pluck (0.8ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" INNER JOIN "nodes" ON "nodes"."id" = "birds"."node_id" WHERE (string_to_array(nodes.path::text, '.') && ARRAY[125,4430546])[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 20:51:49.516677"], ["updated_at", "2024-05-15 20:51:49.516677"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 20:51:49.518970"], ["updated_at", "2024-05-15 20:51:49.518970"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 20:51:49.520599"], ["updated_at", "2024-05-15 20:51:49.520599"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 20:51:49.522960"], ["updated_at", "2024-05-15 20:51:49.522960"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 20:51:49.524562"], ["updated_at", "2024-05-15 20:51:49.524562"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.6ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 20:52:08.311006"], ["updated_at", "2024-05-15 20:52:08.311006"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 20:52:08.313301"], ["updated_at", "2024-05-15 20:52:08.313301"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 20:52:08.314933"], ["updated_at", "2024-05-15 20:52:08.314933"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 20:52:08.316606"], ["updated_at", "2024-05-15 20:52:08.316606"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 20:52:08.317972"], ["updated_at", "2024-05-15 20:52:08.317972"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.5ms)[0m  [1m[34mSELECT "birds".* FROM "birds" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mBird Load (0.4ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (1.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 20:53:04.226403"], ["updated_at", "2024-05-15 20:53:04.226403"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 20:53:04.228731"], ["updated_at", "2024-05-15 20:53:04.228731"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 20:53:04.230472"], ["updated_at", "2024-05-15 20:53:04.230472"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 20:53:04.231855"], ["updated_at", "2024-05-15 20:53:04.231855"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 20:53:04.233369"], ["updated_at", "2024-05-15 20:53:04.233369"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.6ms)[0m  [1m[34mSELECT "birds".* FROM "birds" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mBird Load (0.3ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 20:54:02.473765"], ["updated_at", "2024-05-15 20:54:02.473765"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 20:54:02.476005"], ["updated_at", "2024-05-15 20:54:02.476005"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 20:54:02.477619"], ["updated_at", "2024-05-15 20:54:02.477619"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 20:54:02.479329"], ["updated_at", "2024-05-15 20:54:02.479329"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 20:54:02.480889"], ["updated_at", "2024-05-15 20:54:02.480889"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.5ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.4ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.6ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 20:56:41.719621"], ["updated_at", "2024-05-15 20:56:41.719621"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 20:56:41.722337"], ["updated_at", "2024-05-15 20:56:41.722337"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 20:56:41.724203"], ["updated_at", "2024-05-15 20:56:41.724203"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 20:56:41.726012"], ["updated_at", "2024-05-15 20:56:41.726012"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 20:56:41.727547"], ["updated_at", "2024-05-15 20:56:41.727547"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.5ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:00:35.010277"], ["updated_at", "2024-05-15 21:00:35.010277"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:00:35.012472"], ["updated_at", "2024-05-15 21:00:35.012472"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:00:35.013971"], ["updated_at", "2024-05-15 21:00:35.013971"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:00:35.015413"], ["updated_at", "2024-05-15 21:00:35.015413"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:00:35.016859"], ["updated_at", "2024-05-15 21:00:35.016859"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:00:35.036414"], ["updated_at", "2024-05-15 21:00:35.036414"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:00:35.038072"], ["updated_at", "2024-05-15 21:00:35.038072"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:00:35.039356"], ["updated_at", "2024-05-15 21:00:35.039356"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:00:35.040589"], ["updated_at", "2024-05-15 21:00:35.040589"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:00:35.041772"], ["updated_at", "2024-05-15 21:00:35.041772"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:00:55.801147"], ["updated_at", "2024-05-15 21:00:55.801147"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:00:55.803594"], ["updated_at", "2024-05-15 21:00:55.803594"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:00:55.806088"], ["updated_at", "2024-05-15 21:00:55.806088"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:00:55.807851"], ["updated_at", "2024-05-15 21:00:55.807851"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:00:55.809479"], ["updated_at", "2024-05-15 21:00:55.809479"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:00:55.829880"], ["updated_at", "2024-05-15 21:00:55.829880"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:00:55.831219"], ["updated_at", "2024-05-15 21:00:55.831219"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:00:55.832420"], ["updated_at", "2024-05-15 21:00:55.832420"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:00:55.833577"], ["updated_at", "2024-05-15 21:00:55.833577"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:00:55.834806"], ["updated_at", "2024-05-15 21:00:55.834806"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:00:55.844280"], ["updated_at", "2024-05-15 21:00:55.844280"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:00:55.845842"], ["updated_at", "2024-05-15 21:00:55.845842"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:00:55.847091"], ["updated_at", "2024-05-15 21:00:55.847091"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:00:55.848502"], ["updated_at", "2024-05-15 21:00:55.848502"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:00:55.849791"], ["updated_at", "2024-05-15 21:00:55.849791"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.7ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:01:50.963419"], ["updated_at", "2024-05-15 21:01:50.963419"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:01:50.965699"], ["updated_at", "2024-05-15 21:01:50.965699"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:01:50.967150"], ["updated_at", "2024-05-15 21:01:50.967150"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:01:50.968497"], ["updated_at", "2024-05-15 21:01:50.968497"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:01:50.969990"], ["updated_at", "2024-05-15 21:01:50.969990"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:01:50.989708"], ["updated_at", "2024-05-15 21:01:50.989708"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:01:50.991048"], ["updated_at", "2024-05-15 21:01:50.991048"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:01:50.992276"], ["updated_at", "2024-05-15 21:01:50.992276"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:01:50.993536"], ["updated_at", "2024-05-15 21:01:50.993536"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:01:50.994779"], ["updated_at", "2024-05-15 21:01:50.994779"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:01:51.004488"], ["updated_at", "2024-05-15 21:01:51.004488"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:01:51.006199"], ["updated_at", "2024-05-15 21:01:51.006199"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:01:51.007490"], ["updated_at", "2024-05-15 21:01:51.007490"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:01:51.008690"], ["updated_at", "2024-05-15 21:01:51.008690"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:01:51.009913"], ["updated_at", "2024-05-15 21:01:51.009913"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:02:23.228086"], ["updated_at", "2024-05-15 21:02:23.228086"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:02:23.230359"], ["updated_at", "2024-05-15 21:02:23.230359"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:02:23.232203"], ["updated_at", "2024-05-15 21:02:23.232203"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:02:23.233656"], ["updated_at", "2024-05-15 21:02:23.233656"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:02:23.235114"], ["updated_at", "2024-05-15 21:02:23.235114"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:02:23.255834"], ["updated_at", "2024-05-15 21:02:23.255834"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:02:23.257259"], ["updated_at", "2024-05-15 21:02:23.257259"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:02:23.258498"], ["updated_at", "2024-05-15 21:02:23.258498"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:02:23.259744"], ["updated_at", "2024-05-15 21:02:23.259744"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:02:23.261997"], ["updated_at", "2024-05-15 21:02:23.261997"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:02:23.272049"], ["updated_at", "2024-05-15 21:02:23.272049"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:02:23.273408"], ["updated_at", "2024-05-15 21:02:23.273408"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:02:23.274716"], ["updated_at", "2024-05-15 21:02:23.274716"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:02:23.275893"], ["updated_at", "2024-05-15 21:02:23.275893"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:02:23.277253"], ["updated_at", "2024-05-15 21:02:23.277253"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:04:13.212797"], ["updated_at", "2024-05-15 21:04:13.212797"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:04:13.215060"], ["updated_at", "2024-05-15 21:04:13.215060"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:04:13.216704"], ["updated_at", "2024-05-15 21:04:13.216704"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:04:13.218767"], ["updated_at", "2024-05-15 21:04:13.218767"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:04:13.220534"], ["updated_at", "2024-05-15 21:04:13.220534"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:04:13.241442"], ["updated_at", "2024-05-15 21:04:13.241442"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:04:13.243074"], ["updated_at", "2024-05-15 21:04:13.243074"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:04:13.244332"], ["updated_at", "2024-05-15 21:04:13.244332"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:04:13.245541"], ["updated_at", "2024-05-15 21:04:13.245541"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:04:13.246770"], ["updated_at", "2024-05-15 21:04:13.246770"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:04:13.256799"], ["updated_at", "2024-05-15 21:04:13.256799"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:04:13.258292"], ["updated_at", "2024-05-15 21:04:13.258292"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:04:13.259646"], ["updated_at", "2024-05-15 21:04:13.259646"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:04:13.260856"], ["updated_at", "2024-05-15 21:04:13.260856"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:04:13.262207"], ["updated_at", "2024-05-15 21:04:13.262207"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:04:13.272631"], ["updated_at", "2024-05-15 21:04:13.272631"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:04:13.274120"], ["updated_at", "2024-05-15 21:04:13.274120"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:04:13.275853"], ["updated_at", "2024-05-15 21:04:13.275853"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:04:13.277185"], ["updated_at", "2024-05-15 21:04:13.277185"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:04:13.278438"], ["updated_at", "2024-05-15 21:04:13.278438"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:05:08.440743"], ["updated_at", "2024-05-15 21:05:08.440743"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:05:08.442992"], ["updated_at", "2024-05-15 21:05:08.442992"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:05:08.444414"], ["updated_at", "2024-05-15 21:05:08.444414"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:05:08.445763"], ["updated_at", "2024-05-15 21:05:08.445763"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:05:08.447297"], ["updated_at", "2024-05-15 21:05:08.447297"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:05:08.467057"], ["updated_at", "2024-05-15 21:05:08.467057"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:05:08.468449"], ["updated_at", "2024-05-15 21:05:08.468449"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:05:08.469761"], ["updated_at", "2024-05-15 21:05:08.469761"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:05:08.470948"], ["updated_at", "2024-05-15 21:05:08.470948"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:05:08.472172"], ["updated_at", "2024-05-15 21:05:08.472172"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:05:08.478939"], ["updated_at", "2024-05-15 21:05:08.478939"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:05:08.480658"], ["updated_at", "2024-05-15 21:05:08.480658"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:05:08.482176"], ["updated_at", "2024-05-15 21:05:08.482176"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:05:08.483499"], ["updated_at", "2024-05-15 21:05:08.483499"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:05:08.484751"], ["updated_at", "2024-05-15 21:05:08.484751"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:05:08.492458"], ["updated_at", "2024-05-15 21:05:08.492458"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:05:08.493768"], ["updated_at", "2024-05-15 21:05:08.493768"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:05:08.495405"], ["updated_at", "2024-05-15 21:05:08.495405"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:05:08.497162"], ["updated_at", "2024-05-15 21:05:08.497162"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:05:08.498698"], ["updated_at", "2024-05-15 21:05:08.498698"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"2820230"}
  [1m[35m (1.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 1984)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"130"}
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 545)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"4430546"}
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 546)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"9", "node_b_id"=>"4430546"}
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 533)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"4430546", "node_b_id"=>"4430546"}
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 541)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:06:40.289973"], ["updated_at", "2024-05-15 21:06:40.289973"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:06:40.292437"], ["updated_at", "2024-05-15 21:06:40.292437"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:06:40.294343"], ["updated_at", "2024-05-15 21:06:40.294343"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:06:40.296030"], ["updated_at", "2024-05-15 21:06:40.296030"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:06:40.297460"], ["updated_at", "2024-05-15 21:06:40.297460"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:06:40.307332"], ["updated_at", "2024-05-15 21:06:40.307332"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:06:40.308798"], ["updated_at", "2024-05-15 21:06:40.308798"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:06:40.310189"], ["updated_at", "2024-05-15 21:06:40.310189"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:06:40.311445"], ["updated_at", "2024-05-15 21:06:40.311445"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:06:40.312624"], ["updated_at", "2024-05-15 21:06:40.312624"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:06:40.322627"], ["updated_at", "2024-05-15 21:06:40.322627"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:06:40.323898"], ["updated_at", "2024-05-15 21:06:40.323898"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:06:40.325115"], ["updated_at", "2024-05-15 21:06:40.325115"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:06:40.326313"], ["updated_at", "2024-05-15 21:06:40.326313"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:06:40.328041"], ["updated_at", "2024-05-15 21:06:40.328041"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:06:40.338525"], ["updated_at", "2024-05-15 21:06:40.338525"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:06:40.339848"], ["updated_at", "2024-05-15 21:06:40.339848"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:06:40.341091"], ["updated_at", "2024-05-15 21:06:40.341091"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:06:40.342353"], ["updated_at", "2024-05-15 21:06:40.342353"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:06:40.343781"], ["updated_at", "2024-05-15 21:06:40.343781"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.6ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:09:31.525687"], ["updated_at", "2024-05-15 21:09:31.525687"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:09:31.528240"], ["updated_at", "2024-05-15 21:09:31.528240"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:09:31.529911"], ["updated_at", "2024-05-15 21:09:31.529911"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:09:31.531312"], ["updated_at", "2024-05-15 21:09:31.531312"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:09:31.533137"], ["updated_at", "2024-05-15 21:09:31.533137"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:09:31.555184"], ["updated_at", "2024-05-15 21:09:31.555184"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:09:31.556677"], ["updated_at", "2024-05-15 21:09:31.556677"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:09:31.557847"], ["updated_at", "2024-05-15 21:09:31.557847"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:09:31.559054"], ["updated_at", "2024-05-15 21:09:31.559054"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:09:31.560358"], ["updated_at", "2024-05-15 21:09:31.560358"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:09:31.567481"], ["updated_at", "2024-05-15 21:09:31.567481"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:09:31.569428"], ["updated_at", "2024-05-15 21:09:31.569428"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:09:31.571042"], ["updated_at", "2024-05-15 21:09:31.571042"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:09:31.572361"], ["updated_at", "2024-05-15 21:09:31.572361"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:09:31.573532"], ["updated_at", "2024-05-15 21:09:31.573532"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:09:31.580553"], ["updated_at", "2024-05-15 21:09:31.580553"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:09:31.581860"], ["updated_at", "2024-05-15 21:09:31.581860"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:09:31.583469"], ["updated_at", "2024-05-15 21:09:31.583469"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:09:31.585434"], ["updated_at", "2024-05-15 21:09:31.585434"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:09:31.587052"], ["updated_at", "2024-05-15 21:09:31.587052"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.6ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:10:04.999573"], ["updated_at", "2024-05-15 21:10:04.999573"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:10:05.002444"], ["updated_at", "2024-05-15 21:10:05.002444"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:10:05.004155"], ["updated_at", "2024-05-15 21:10:05.004155"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:10:05.005687"], ["updated_at", "2024-05-15 21:10:05.005687"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:10:05.007408"], ["updated_at", "2024-05-15 21:10:05.007408"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:10:05.030696"], ["updated_at", "2024-05-15 21:10:05.030696"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:10:05.032232"], ["updated_at", "2024-05-15 21:10:05.032232"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:10:05.033515"], ["updated_at", "2024-05-15 21:10:05.033515"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:10:05.034755"], ["updated_at", "2024-05-15 21:10:05.034755"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:10:05.035975"], ["updated_at", "2024-05-15 21:10:05.035975"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:10:05.043405"], ["updated_at", "2024-05-15 21:10:05.043405"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:10:05.045478"], ["updated_at", "2024-05-15 21:10:05.045478"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:10:05.046849"], ["updated_at", "2024-05-15 21:10:05.046849"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:10:05.048169"], ["updated_at", "2024-05-15 21:10:05.048169"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:10:05.049929"], ["updated_at", "2024-05-15 21:10:05.049929"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:10:05.056953"], ["updated_at", "2024-05-15 21:10:05.056953"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:10:05.058576"], ["updated_at", "2024-05-15 21:10:05.058576"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:10:05.060303"], ["updated_at", "2024-05-15 21:10:05.060303"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:10:05.061996"], ["updated_at", "2024-05-15 21:10:05.061996"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:10:05.063458"], ["updated_at", "2024-05-15 21:10:05.063458"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.6ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:11:18.225570"], ["updated_at", "2024-05-15 21:11:18.225570"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:11:18.228221"], ["updated_at", "2024-05-15 21:11:18.228221"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:11:18.229874"], ["updated_at", "2024-05-15 21:11:18.229874"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:11:18.231303"], ["updated_at", "2024-05-15 21:11:18.231303"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:11:18.233243"], ["updated_at", "2024-05-15 21:11:18.233243"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:11:18.255901"], ["updated_at", "2024-05-15 21:11:18.255901"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:11:18.257784"], ["updated_at", "2024-05-15 21:11:18.257784"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:11:18.259488"], ["updated_at", "2024-05-15 21:11:18.259488"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:11:18.261552"], ["updated_at", "2024-05-15 21:11:18.261552"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:11:18.263445"], ["updated_at", "2024-05-15 21:11:18.263445"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:11:18.272880"], ["updated_at", "2024-05-15 21:11:18.272880"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:11:18.274590"], ["updated_at", "2024-05-15 21:11:18.274590"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:11:18.276248"], ["updated_at", "2024-05-15 21:11:18.276248"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:11:18.277711"], ["updated_at", "2024-05-15 21:11:18.277711"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:11:18.278973"], ["updated_at", "2024-05-15 21:11:18.278973"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:11:18.286939"], ["updated_at", "2024-05-15 21:11:18.286939"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:11:18.288504"], ["updated_at", "2024-05-15 21:11:18.288504"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:11:18.289813"], ["updated_at", "2024-05-15 21:11:18.289813"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:11:18.291104"], ["updated_at", "2024-05-15 21:11:18.291104"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:11:18.292291"], ["updated_at", "2024-05-15 21:11:18.292291"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.7ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:11:58.958160"], ["updated_at", "2024-05-15 21:11:58.958160"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:11:58.960190"], ["updated_at", "2024-05-15 21:11:58.960190"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:11:58.961574"], ["updated_at", "2024-05-15 21:11:58.961574"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:11:58.963269"], ["updated_at", "2024-05-15 21:11:58.963269"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:11:58.964596"], ["updated_at", "2024-05-15 21:11:58.964596"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:11:58.987436"], ["updated_at", "2024-05-15 21:11:58.987436"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:11:58.988830"], ["updated_at", "2024-05-15 21:11:58.988830"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:11:58.990051"], ["updated_at", "2024-05-15 21:11:58.990051"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:11:58.991240"], ["updated_at", "2024-05-15 21:11:58.991240"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:11:58.992539"], ["updated_at", "2024-05-15 21:11:58.992539"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:11:58.999542"], ["updated_at", "2024-05-15 21:11:58.999542"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:11:59.001469"], ["updated_at", "2024-05-15 21:11:59.001469"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:11:59.003124"], ["updated_at", "2024-05-15 21:11:59.003124"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:11:59.004490"], ["updated_at", "2024-05-15 21:11:59.004490"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:11:59.005860"], ["updated_at", "2024-05-15 21:11:59.005860"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:11:59.012906"], ["updated_at", "2024-05-15 21:11:59.012906"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:11:59.014548"], ["updated_at", "2024-05-15 21:11:59.014548"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:11:59.016318"], ["updated_at", "2024-05-15 21:11:59.016318"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:11:59.017903"], ["updated_at", "2024-05-15 21:11:59.017903"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:11:59.019447"], ["updated_at", "2024-05-15 21:11:59.019447"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:12:55.227965"], ["updated_at", "2024-05-15 21:12:55.227965"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:12:55.230512"], ["updated_at", "2024-05-15 21:12:55.230512"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:12:55.232129"], ["updated_at", "2024-05-15 21:12:55.232129"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:12:55.233628"], ["updated_at", "2024-05-15 21:12:55.233628"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:12:55.235410"], ["updated_at", "2024-05-15 21:12:55.235410"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["125", "4430546"]}
[31mUnpermitted parameter: :node_ids. Context: { controller: Api::BirdsController, action: index, request: #<ActionController::TestRequest:0x000000010bbddd80>, params: {"node_ids"=>["125", "4430546"], "controller"=>"api/birds", "action"=>"index"} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 1126)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:12:55.259563"], ["updated_at", "2024-05-15 21:12:55.259563"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:12:55.261065"], ["updated_at", "2024-05-15 21:12:55.261065"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:12:55.262283"], ["updated_at", "2024-05-15 21:12:55.262283"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:12:55.263499"], ["updated_at", "2024-05-15 21:12:55.263499"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:12:55.264742"], ["updated_at", "2024-05-15 21:12:55.264742"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["2820230", "5497637"]}
[31mUnpermitted parameter: :node_ids. Context: { controller: Api::BirdsController, action: index, request: #<ActionController::TestRequest:0x000000010bd9ba78>, params: {"node_ids"=>["2820230", "5497637"], "controller"=>"api/birds", "action"=>"index"} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 927)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:12:55.275354"], ["updated_at", "2024-05-15 21:12:55.275354"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:12:55.277765"], ["updated_at", "2024-05-15 21:12:55.277765"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:12:55.281091"], ["updated_at", "2024-05-15 21:12:55.281091"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:12:55.282496"], ["updated_at", "2024-05-15 21:12:55.282496"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:12:55.283822"], ["updated_at", "2024-05-15 21:12:55.283822"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["13"]}
[31mUnpermitted parameter: :node_ids. Context: { controller: Api::BirdsController, action: index, request: #<ActionController::TestRequest:0x000000010be2a980>, params: {"node_ids"=>["13"], "controller"=>"api/birds", "action"=>"index"} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 925)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:12:55.294411"], ["updated_at", "2024-05-15 21:12:55.294411"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:12:55.296122"], ["updated_at", "2024-05-15 21:12:55.296122"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:12:55.298045"], ["updated_at", "2024-05-15 21:12:55.298045"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:12:55.300201"], ["updated_at", "2024-05-15 21:12:55.300201"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:12:55.302087"], ["updated_at", "2024-05-15 21:12:55.302087"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["130"]}
[31mUnpermitted parameter: :node_ids. Context: { controller: Api::BirdsController, action: index, request: #<ActionController::TestRequest:0x000000010beb9f90>, params: {"node_ids"=>["130"], "controller"=>"api/birds", "action"=>"index"} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 925)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:13:13.487418"], ["updated_at", "2024-05-15 21:13:13.487418"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:13:13.489557"], ["updated_at", "2024-05-15 21:13:13.489557"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:13:13.491122"], ["updated_at", "2024-05-15 21:13:13.491122"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:13:13.492927"], ["updated_at", "2024-05-15 21:13:13.492927"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:13:13.494332"], ["updated_at", "2024-05-15 21:13:13.494332"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["125", "4430546"]}
[31mUnpermitted parameter: :node_ids. Context: { controller: Api::BirdsController, action: index, request: #<ActionController::TestRequest:0x000000010d9e1890>, params: {"node_ids"=>["125", "4430546"], "controller"=>"api/birds", "action"=>"index"} }[0m
[31mUnpermitted parameter: :node_ids. Context: { controller: Api::BirdsController, action: index, request: #<ActionController::TestRequest:0x000000010d9e1890>, params: {"node_ids"=>["125", "4430546"], "controller"=>"api/birds", "action"=>"index"} }[0m
Completed 500 Internal Server Error in 52773ms (ActiveRecord: 0.0ms | Allocations: 80376)
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:14:14.380476"], ["updated_at", "2024-05-15 21:14:14.380476"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:14:14.382833"], ["updated_at", "2024-05-15 21:14:14.382833"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:14:14.384571"], ["updated_at", "2024-05-15 21:14:14.384571"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:14:14.386073"], ["updated_at", "2024-05-15 21:14:14.386073"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:14:14.387472"], ["updated_at", "2024-05-15 21:14:14.387472"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["125", "4430546"]}
[31mUnpermitted parameter: :node_ids. Context: { controller: Api::BirdsController, action: index, request: #<ActionController::TestRequest:0x0000000109aa9880>, params: {"node_ids"=>["125", "4430546"], "controller"=>"api/birds", "action"=>"index"} }[0m
[31mUnpermitted parameter: :node_ids. Context: { controller: Api::BirdsController, action: index, request: #<ActionController::TestRequest:0x0000000109aa9880>, params: {"node_ids"=>["125", "4430546"], "controller"=>"api/birds", "action"=>"index"} }[0m
[31mUnpermitted parameter: :node_ids. Context: { controller: Api::BirdsController, action: index, request: #<ActionController::TestRequest:0x0000000109aa9880>, params: {"node_ids"=>["125", "4430546"], "controller"=>"api/birds", "action"=>"index"} }[0m
Completed 500 Internal Server Error in 76293ms (ActiveRecord: 0.0ms | Allocations: 80303)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:15:30.715557"], ["updated_at", "2024-05-15 21:15:30.715557"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:15:30.717735"], ["updated_at", "2024-05-15 21:15:30.717735"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:15:30.719543"], ["updated_at", "2024-05-15 21:15:30.719543"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:15:30.721277"], ["updated_at", "2024-05-15 21:15:30.721277"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:15:30.723182"], ["updated_at", "2024-05-15 21:15:30.723182"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["2820230", "5497637"]}
Completed 500 Internal Server Error in 1702ms (ActiveRecord: 0.0ms | Allocations: 11090)
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:15:34.428720"], ["updated_at", "2024-05-15 21:15:34.428720"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:15:34.430857"], ["updated_at", "2024-05-15 21:15:34.430857"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:15:34.432618"], ["updated_at", "2024-05-15 21:15:34.432618"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:15:34.434004"], ["updated_at", "2024-05-15 21:15:34.434004"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:15:34.435589"], ["updated_at", "2024-05-15 21:15:34.435589"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["125", "4430546"]}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 1855)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:15:34.459686"], ["updated_at", "2024-05-15 21:15:34.459686"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:15:34.461063"], ["updated_at", "2024-05-15 21:15:34.461063"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:15:34.462254"], ["updated_at", "2024-05-15 21:15:34.462254"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:15:34.463393"], ["updated_at", "2024-05-15 21:15:34.463393"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:15:34.464607"], ["updated_at", "2024-05-15 21:15:34.464607"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["2820230", "5497637"]}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 1670)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:15:34.474044"], ["updated_at", "2024-05-15 21:15:34.474044"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:15:34.475523"], ["updated_at", "2024-05-15 21:15:34.475523"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:15:34.476925"], ["updated_at", "2024-05-15 21:15:34.476925"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:15:34.478296"], ["updated_at", "2024-05-15 21:15:34.478296"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:15:34.479555"], ["updated_at", "2024-05-15 21:15:34.479555"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["13"]}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 1668)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:15:34.488790"], ["updated_at", "2024-05-15 21:15:34.488790"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:15:34.490489"], ["updated_at", "2024-05-15 21:15:34.490489"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:15:34.492053"], ["updated_at", "2024-05-15 21:15:34.492053"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:15:34.493525"], ["updated_at", "2024-05-15 21:15:34.493525"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:15:34.495039"], ["updated_at", "2024-05-15 21:15:34.495039"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["130"]}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 1668)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:16:00.479422"], ["updated_at", "2024-05-15 21:16:00.479422"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:16:00.481547"], ["updated_at", "2024-05-15 21:16:00.481547"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:16:00.483216"], ["updated_at", "2024-05-15 21:16:00.483216"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:16:00.485105"], ["updated_at", "2024-05-15 21:16:00.485105"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:16:00.486448"], ["updated_at", "2024-05-15 21:16:00.486448"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["125", "4430546"]}
Completed 500 Internal Server Error in 37176ms (ActiveRecord: 0.0ms | Allocations: 83732)
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:16:39.565893"], ["updated_at", "2024-05-15 21:16:39.565893"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:16:39.568203"], ["updated_at", "2024-05-15 21:16:39.568203"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:16:39.569836"], ["updated_at", "2024-05-15 21:16:39.569836"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:16:39.571180"], ["updated_at", "2024-05-15 21:16:39.571180"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:16:39.572587"], ["updated_at", "2024-05-15 21:16:39.572587"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["125", "4430546"]}
  [1m[36mBird Load (0.4ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 1117ms (Views: 0.6ms | ActiveRecord: 1.0ms | Allocations: 83031)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:16:40.718645"], ["updated_at", "2024-05-15 21:16:40.718645"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:16:40.721080"], ["updated_at", "2024-05-15 21:16:40.721080"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:16:40.723280"], ["updated_at", "2024-05-15 21:16:40.723280"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:16:40.725283"], ["updated_at", "2024-05-15 21:16:40.725283"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:16:40.726878"], ["updated_at", "2024-05-15 21:16:40.726878"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["2820230", "5497637"]}
  [1m[36mBird Load (0.4ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 477ms (Views: 0.4ms | ActiveRecord: 1.3ms | Allocations: 12376)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:16:41.216505"], ["updated_at", "2024-05-15 21:16:41.216505"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:16:41.218722"], ["updated_at", "2024-05-15 21:16:41.218722"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:16:41.220715"], ["updated_at", "2024-05-15 21:16:41.220715"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:16:41.222726"], ["updated_at", "2024-05-15 21:16:41.222726"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:16:41.239683"], ["updated_at", "2024-05-15 21:16:41.239683"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["13"]}
  [1m[36mBird Load (0.4ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 402ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 12276)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:16:41.653627"], ["updated_at", "2024-05-15 21:16:41.653627"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:16:41.655599"], ["updated_at", "2024-05-15 21:16:41.655599"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:16:41.657282"], ["updated_at", "2024-05-15 21:16:41.657282"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:16:41.658836"], ["updated_at", "2024-05-15 21:16:41.658836"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:16:41.660311"], ["updated_at", "2024-05-15 21:16:41.660311"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["130"]}
  [1m[36mBird Load (0.4ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 374ms (Views: 0.5ms | ActiveRecord: 1.3ms | Allocations: 12470)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.7ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:18:04.056201"], ["updated_at", "2024-05-15 21:18:04.056201"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:18:04.058254"], ["updated_at", "2024-05-15 21:18:04.058254"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:18:04.059817"], ["updated_at", "2024-05-15 21:18:04.059817"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:18:04.061199"], ["updated_at", "2024-05-15 21:18:04.061199"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:18:04.062561"], ["updated_at", "2024-05-15 21:18:04.062561"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["125", "4430546"]}
  [1m[36mBird Load (0.6ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Load (0.6ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.4ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.4ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 42410ms (Views: 0.8ms | ActiveRecord: 3.3ms | Allocations: 85314)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:18:49.329548"], ["updated_at", "2024-05-15 21:18:49.329548"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:18:49.331649"], ["updated_at", "2024-05-15 21:18:49.331649"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:18:49.333077"], ["updated_at", "2024-05-15 21:18:49.333077"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:18:49.334415"], ["updated_at", "2024-05-15 21:18:49.334415"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:18:49.335765"], ["updated_at", "2024-05-15 21:18:49.335765"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["125", "4430546"]}
  [1m[36mBird Load (0.5ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 1342ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 83286)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.6ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:19:12.442398"], ["updated_at", "2024-05-15 21:19:12.442398"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:19:12.444826"], ["updated_at", "2024-05-15 21:19:12.444826"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:19:12.446577"], ["updated_at", "2024-05-15 21:19:12.446577"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:19:12.448126"], ["updated_at", "2024-05-15 21:19:12.448126"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:19:12.449970"], ["updated_at", "2024-05-15 21:19:12.449970"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["125", "4430546"]}
  [1m[36mBird Load (0.3ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 150717ms (Views: 0.5ms | ActiveRecord: 0.9ms | Allocations: 82670)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:21:46.357515"], ["updated_at", "2024-05-15 21:21:46.357515"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:21:46.360016"], ["updated_at", "2024-05-15 21:21:46.360016"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:21:46.361635"], ["updated_at", "2024-05-15 21:21:46.361635"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:21:46.363151"], ["updated_at", "2024-05-15 21:21:46.363151"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:21:46.365661"], ["updated_at", "2024-05-15 21:21:46.365661"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["125", "4430546"]}
  [1m[36mBird Load (0.3ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 2163)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:21:58.261706"], ["updated_at", "2024-05-15 21:21:58.261706"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:21:58.263939"], ["updated_at", "2024-05-15 21:21:58.263939"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:21:58.265956"], ["updated_at", "2024-05-15 21:21:58.265956"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:21:58.268383"], ["updated_at", "2024-05-15 21:21:58.268383"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:21:58.269826"], ["updated_at", "2024-05-15 21:21:58.269826"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["125", "4430546"]}
  [1m[36mBird Load (0.3ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 2163)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:21:58.296582"], ["updated_at", "2024-05-15 21:21:58.296582"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:21:58.298092"], ["updated_at", "2024-05-15 21:21:58.298092"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:21:58.299369"], ["updated_at", "2024-05-15 21:21:58.299369"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:21:58.300619"], ["updated_at", "2024-05-15 21:21:58.300619"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:21:58.301824"], ["updated_at", "2024-05-15 21:21:58.301824"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["2820230", "5497637"]}
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1604)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:23:59.014216"], ["updated_at", "2024-05-15 21:23:59.014216"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:23:59.016434"], ["updated_at", "2024-05-15 21:23:59.016434"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:23:59.018412"], ["updated_at", "2024-05-15 21:23:59.018412"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:23:59.020131"], ["updated_at", "2024-05-15 21:23:59.020131"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:23:59.021779"], ["updated_at", "2024-05-15 21:23:59.021779"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["125", "4430546"]}
  [1m[36mBird Load (0.3ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 2163)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:23:59.049693"], ["updated_at", "2024-05-15 21:23:59.049693"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:23:59.051107"], ["updated_at", "2024-05-15 21:23:59.051107"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:23:59.052326"], ["updated_at", "2024-05-15 21:23:59.052326"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:23:59.053530"], ["updated_at", "2024-05-15 21:23:59.053530"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:23:59.054729"], ["updated_at", "2024-05-15 21:23:59.054729"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["2820230", "5497637"]}
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1604)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:24:06.946561"], ["updated_at", "2024-05-15 21:24:06.946561"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:24:06.948751"], ["updated_at", "2024-05-15 21:24:06.948751"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:24:06.950610"], ["updated_at", "2024-05-15 21:24:06.950610"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:24:06.952713"], ["updated_at", "2024-05-15 21:24:06.952713"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:24:06.954137"], ["updated_at", "2024-05-15 21:24:06.954137"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["125", "4430546"]}
  [1m[36mBird Load (0.4ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 2163)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:24:06.983743"], ["updated_at", "2024-05-15 21:24:06.983743"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:24:06.985252"], ["updated_at", "2024-05-15 21:24:06.985252"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:24:06.986550"], ["updated_at", "2024-05-15 21:24:06.986550"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:24:06.987828"], ["updated_at", "2024-05-15 21:24:06.987828"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:24:06.989030"], ["updated_at", "2024-05-15 21:24:06.989030"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["2820230", "5497637"]}
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1604)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:24:07.000119"], ["updated_at", "2024-05-15 21:24:07.000119"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:24:07.001477"], ["updated_at", "2024-05-15 21:24:07.001477"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:24:07.002899"], ["updated_at", "2024-05-15 21:24:07.002899"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:24:07.004532"], ["updated_at", "2024-05-15 21:24:07.004532"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:24:07.005791"], ["updated_at", "2024-05-15 21:24:07.005791"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["13"]}
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1596)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:24:16.344359"], ["updated_at", "2024-05-15 21:24:16.344359"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:24:16.346728"], ["updated_at", "2024-05-15 21:24:16.346728"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:24:16.348413"], ["updated_at", "2024-05-15 21:24:16.348413"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:24:16.350430"], ["updated_at", "2024-05-15 21:24:16.350430"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:24:16.351820"], ["updated_at", "2024-05-15 21:24:16.351820"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["125", "4430546"]}
  [1m[36mBird Load (0.3ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 2163)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:24:16.379068"], ["updated_at", "2024-05-15 21:24:16.379068"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:24:16.380903"], ["updated_at", "2024-05-15 21:24:16.380903"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:24:16.382216"], ["updated_at", "2024-05-15 21:24:16.382216"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:24:16.383504"], ["updated_at", "2024-05-15 21:24:16.383504"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:24:16.384759"], ["updated_at", "2024-05-15 21:24:16.384759"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["2820230", "5497637"]}
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1604)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:24:16.396161"], ["updated_at", "2024-05-15 21:24:16.396161"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:24:16.397508"], ["updated_at", "2024-05-15 21:24:16.397508"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:24:16.398722"], ["updated_at", "2024-05-15 21:24:16.398722"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:24:16.399967"], ["updated_at", "2024-05-15 21:24:16.399967"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:24:16.401358"], ["updated_at", "2024-05-15 21:24:16.401358"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["13"]}
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1596)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:24:16.412627"], ["updated_at", "2024-05-15 21:24:16.412627"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:24:16.414210"], ["updated_at", "2024-05-15 21:24:16.414210"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:24:16.415413"], ["updated_at", "2024-05-15 21:24:16.415413"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:24:16.416629"], ["updated_at", "2024-05-15 21:24:16.416629"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:24:16.418209"], ["updated_at", "2024-05-15 21:24:16.418209"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["130"]}
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1606)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:24:22.904871"], ["updated_at", "2024-05-15 21:24:22.904871"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:24:22.907307"], ["updated_at", "2024-05-15 21:24:22.907307"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:24:22.908864"], ["updated_at", "2024-05-15 21:24:22.908864"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:24:22.910169"], ["updated_at", "2024-05-15 21:24:22.910169"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:24:22.911587"], ["updated_at", "2024-05-15 21:24:22.911587"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["125", "4430546"]}
  [1m[36mBird Load (0.3ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 2163)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:24:22.938306"], ["updated_at", "2024-05-15 21:24:22.938306"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:24:22.939666"], ["updated_at", "2024-05-15 21:24:22.939666"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:24:22.940827"], ["updated_at", "2024-05-15 21:24:22.940827"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:24:22.941967"], ["updated_at", "2024-05-15 21:24:22.941967"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:24:22.943090"], ["updated_at", "2024-05-15 21:24:22.943090"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["2820230", "5497637"]}
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1604)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:24:22.953877"], ["updated_at", "2024-05-15 21:24:22.953877"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:24:22.955242"], ["updated_at", "2024-05-15 21:24:22.955242"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:24:22.956452"], ["updated_at", "2024-05-15 21:24:22.956452"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:24:22.957661"], ["updated_at", "2024-05-15 21:24:22.957661"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:24:22.958864"], ["updated_at", "2024-05-15 21:24:22.958864"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["13"]}
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1596)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:24:22.970131"], ["updated_at", "2024-05-15 21:24:22.970131"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:24:22.971310"], ["updated_at", "2024-05-15 21:24:22.971310"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:24:22.972428"], ["updated_at", "2024-05-15 21:24:22.972428"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:24:22.973592"], ["updated_at", "2024-05-15 21:24:22.973592"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:24:22.975122"], ["updated_at", "2024-05-15 21:24:22.975122"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["130"]}
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1606)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"2820230"}
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 668)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"130"}
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 544)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"4430546"}
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 546)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"9", "node_b_id"=>"4430546"}
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 533)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"4430546", "node_b_id"=>"4430546"}
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 541)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:24:23.022821"], ["updated_at", "2024-05-15 21:24:23.022821"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:24:23.024461"], ["updated_at", "2024-05-15 21:24:23.024461"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:24:23.026076"], ["updated_at", "2024-05-15 21:24:23.026076"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:24:23.027537"], ["updated_at", "2024-05-15 21:24:23.027537"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:24:23.028849"], ["updated_at", "2024-05-15 21:24:23.028849"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:24:23.038536"], ["updated_at", "2024-05-15 21:24:23.038536"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:24:23.039869"], ["updated_at", "2024-05-15 21:24:23.039869"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:24:23.041193"], ["updated_at", "2024-05-15 21:24:23.041193"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:24:23.042832"], ["updated_at", "2024-05-15 21:24:23.042832"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:24:23.044245"], ["updated_at", "2024-05-15 21:24:23.044245"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:24:23.054124"], ["updated_at", "2024-05-15 21:24:23.054124"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:24:23.055386"], ["updated_at", "2024-05-15 21:24:23.055386"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:24:23.056631"], ["updated_at", "2024-05-15 21:24:23.056631"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:24:23.058029"], ["updated_at", "2024-05-15 21:24:23.058029"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:24:23.059691"], ["updated_at", "2024-05-15 21:24:23.059691"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:24:23.070363"], ["updated_at", "2024-05-15 21:24:23.070363"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:24:23.071719"], ["updated_at", "2024-05-15 21:24:23.071719"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:24:23.072976"], ["updated_at", "2024-05-15 21:24:23.072976"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:24:23.074554"], ["updated_at", "2024-05-15 21:24:23.074554"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:24:23.076082"], ["updated_at", "2024-05-15 21:24:23.076082"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (45.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "birds_test"[0m
  [1m[35m (138.9ms)[0m  [1m[35mCREATE DATABASE "birds_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (27.8ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "ltree"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "birds" CASCADE[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "birds" ("id" bigserial primary key, "node_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_birds_on_node_id" ON "birds" ("node_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "nodes" CASCADE[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "nodes" ("id" bigserial primary key, "parent_id" integer DEFAULT 0, "path" ltree)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_nodes_on_parent_id" ON "nodes" ("parent_id")[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "birds" ADD CONSTRAINT "fk_rails_b54858e8c4"
FOREIGN KEY ("node_id")
  REFERENCES "nodes" ("id")
[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240513185950)[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240512204505);[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2024-05-15 21:26:43.591746', '2024-05-15 21:26:43.591750') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '89a1a433faf29458b5b540f516b19de6fc9e4d04', '2024-05-15 21:26:43.594169', '2024-05-15 21:26:43.594172') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.7ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.7ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:26:43.705422"], ["updated_at", "2024-05-15 21:26:43.705422"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:26:43.708128"], ["updated_at", "2024-05-15 21:26:43.708128"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:26:43.709915"], ["updated_at", "2024-05-15 21:26:43.709915"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:26:43.711715"], ["updated_at", "2024-05-15 21:26:43.711715"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:26:43.713375"], ["updated_at", "2024-05-15 21:26:43.713375"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["125", "4430546"]}
  [1m[36mBird Load (0.4ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 2185)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:26:43.747281"], ["updated_at", "2024-05-15 21:26:43.747281"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:26:43.749166"], ["updated_at", "2024-05-15 21:26:43.749166"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:26:43.751096"], ["updated_at", "2024-05-15 21:26:43.751096"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:26:43.752841"], ["updated_at", "2024-05-15 21:26:43.752841"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:26:43.754633"], ["updated_at", "2024-05-15 21:26:43.754633"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["2820230", "5497637"]}
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 1604)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (4.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:26:43.777505"], ["updated_at", "2024-05-15 21:26:43.777505"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:26:43.779715"], ["updated_at", "2024-05-15 21:26:43.779715"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:26:43.781370"], ["updated_at", "2024-05-15 21:26:43.781370"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:26:43.782991"], ["updated_at", "2024-05-15 21:26:43.782991"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:26:43.785031"], ["updated_at", "2024-05-15 21:26:43.785031"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["13"]}
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1596)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:26:43.796353"], ["updated_at", "2024-05-15 21:26:43.796353"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:26:43.797766"], ["updated_at", "2024-05-15 21:26:43.797766"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:26:43.798999"], ["updated_at", "2024-05-15 21:26:43.798999"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:26:43.800239"], ["updated_at", "2024-05-15 21:26:43.800239"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:26:43.801519"], ["updated_at", "2024-05-15 21:26:43.801519"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["130"]}
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1606)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"2820230"}
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 668)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"130"}
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 544)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"4430546"}
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 546)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"9", "node_b_id"=>"4430546"}
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 533)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"4430546", "node_b_id"=>"4430546"}
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 541)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:26:43.849864"], ["updated_at", "2024-05-15 21:26:43.849864"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:26:43.851161"], ["updated_at", "2024-05-15 21:26:43.851161"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:26:43.852403"], ["updated_at", "2024-05-15 21:26:43.852403"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:26:43.872608"], ["updated_at", "2024-05-15 21:26:43.872608"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:26:43.874455"], ["updated_at", "2024-05-15 21:26:43.874455"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:26:43.886231"], ["updated_at", "2024-05-15 21:26:43.886231"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:26:43.887574"], ["updated_at", "2024-05-15 21:26:43.887574"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:26:43.889393"], ["updated_at", "2024-05-15 21:26:43.889393"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:26:43.890796"], ["updated_at", "2024-05-15 21:26:43.890796"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:26:43.892440"], ["updated_at", "2024-05-15 21:26:43.892440"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:26:43.902771"], ["updated_at", "2024-05-15 21:26:43.902771"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:26:43.904575"], ["updated_at", "2024-05-15 21:26:43.904575"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:26:43.905743"], ["updated_at", "2024-05-15 21:26:43.905743"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:26:43.907319"], ["updated_at", "2024-05-15 21:26:43.907319"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:26:43.909642"], ["updated_at", "2024-05-15 21:26:43.909642"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 21:26:43.920518"], ["updated_at", "2024-05-15 21:26:43.920518"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 21:26:43.921827"], ["updated_at", "2024-05-15 21:26:43.921827"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 21:26:43.923291"], ["updated_at", "2024-05-15 21:26:43.923291"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 21:26:43.924825"], ["updated_at", "2024-05-15 21:26:43.924825"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 21:26:43.926595"], ["updated_at", "2024-05-15 21:26:43.926595"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (1.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:06:21.827332"], ["updated_at", "2024-05-15 23:06:21.827332"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:06:21.830883"], ["updated_at", "2024-05-15 23:06:21.830883"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:06:21.832409"], ["updated_at", "2024-05-15 23:06:21.832409"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:06:21.833814"], ["updated_at", "2024-05-15 23:06:21.833814"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:06:21.835445"], ["updated_at", "2024-05-15 23:06:21.835445"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:06:21.863063"], ["updated_at", "2024-05-15 23:06:21.863063"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:06:21.864516"], ["updated_at", "2024-05-15 23:06:21.864516"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:06:21.865709"], ["updated_at", "2024-05-15 23:06:21.865709"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:06:21.866955"], ["updated_at", "2024-05-15 23:06:21.866955"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:06:21.868169"], ["updated_at", "2024-05-15 23:06:21.868169"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:06:21.877694"], ["updated_at", "2024-05-15 23:06:21.877694"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:06:21.879482"], ["updated_at", "2024-05-15 23:06:21.879482"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:06:21.880831"], ["updated_at", "2024-05-15 23:06:21.880831"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:06:21.882050"], ["updated_at", "2024-05-15 23:06:21.882050"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:06:21.883295"], ["updated_at", "2024-05-15 23:06:21.883295"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:06:21.894260"], ["updated_at", "2024-05-15 23:06:21.894260"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:06:21.895901"], ["updated_at", "2024-05-15 23:06:21.895901"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:06:21.897265"], ["updated_at", "2024-05-15 23:06:21.897265"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:06:21.898490"], ["updated_at", "2024-05-15 23:06:21.898490"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:06:21.899717"], ["updated_at", "2024-05-15 23:06:21.899717"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.9ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:06:31.519179"], ["updated_at", "2024-05-15 23:06:31.519179"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:06:31.521615"], ["updated_at", "2024-05-15 23:06:31.521615"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:06:31.523234"], ["updated_at", "2024-05-15 23:06:31.523234"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:06:31.525603"], ["updated_at", "2024-05-15 23:06:31.525603"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:06:31.527199"], ["updated_at", "2024-05-15 23:06:31.527199"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:06:31.554790"], ["updated_at", "2024-05-15 23:06:31.554790"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:06:31.556231"], ["updated_at", "2024-05-15 23:06:31.556231"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:06:31.557471"], ["updated_at", "2024-05-15 23:06:31.557471"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:06:31.559541"], ["updated_at", "2024-05-15 23:06:31.559541"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:06:31.561454"], ["updated_at", "2024-05-15 23:06:31.561454"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:06:31.572224"], ["updated_at", "2024-05-15 23:06:31.572224"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:06:31.573896"], ["updated_at", "2024-05-15 23:06:31.573896"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:06:31.575232"], ["updated_at", "2024-05-15 23:06:31.575232"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:06:31.576460"], ["updated_at", "2024-05-15 23:06:31.576460"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:06:31.577704"], ["updated_at", "2024-05-15 23:06:31.577704"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:06:31.588348"], ["updated_at", "2024-05-15 23:06:31.588348"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:06:31.589730"], ["updated_at", "2024-05-15 23:06:31.589730"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:06:31.590978"], ["updated_at", "2024-05-15 23:06:31.590978"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:06:31.592635"], ["updated_at", "2024-05-15 23:06:31.592635"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:06:31.594085"], ["updated_at", "2024-05-15 23:06:31.594085"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.6ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:07:57.519588"], ["updated_at", "2024-05-15 23:07:57.519588"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:07:57.521986"], ["updated_at", "2024-05-15 23:07:57.521986"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:07:57.523638"], ["updated_at", "2024-05-15 23:07:57.523638"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:07:57.525013"], ["updated_at", "2024-05-15 23:07:57.525013"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:07:57.526407"], ["updated_at", "2024-05-15 23:07:57.526407"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["125", "4430546"]}
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 2231)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:07:57.555409"], ["updated_at", "2024-05-15 23:07:57.555409"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:07:57.556726"], ["updated_at", "2024-05-15 23:07:57.556726"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:07:57.558023"], ["updated_at", "2024-05-15 23:07:57.558023"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:07:57.559206"], ["updated_at", "2024-05-15 23:07:57.559206"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:07:57.560439"], ["updated_at", "2024-05-15 23:07:57.560439"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["2820230", "5497637"]}
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 1668)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:07:57.572296"], ["updated_at", "2024-05-15 23:07:57.572296"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:07:57.573554"], ["updated_at", "2024-05-15 23:07:57.573554"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:07:57.574740"], ["updated_at", "2024-05-15 23:07:57.574740"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:07:57.576023"], ["updated_at", "2024-05-15 23:07:57.576023"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:07:57.577681"], ["updated_at", "2024-05-15 23:07:57.577681"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["13"]}
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 1660)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:07:57.589382"], ["updated_at", "2024-05-15 23:07:57.589382"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:07:57.590663"], ["updated_at", "2024-05-15 23:07:57.590663"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:07:57.592010"], ["updated_at", "2024-05-15 23:07:57.592010"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:07:57.593317"], ["updated_at", "2024-05-15 23:07:57.593317"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:07:57.594966"], ["updated_at", "2024-05-15 23:07:57.594966"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["130"]}
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 1670)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"2820230"}
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 607)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"130"}
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 483)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"4430546"}
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 485)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"9", "node_b_id"=>"4430546"}
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 472)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"4430546", "node_b_id"=>"4430546"}
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 480)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:07:57.645327"], ["updated_at", "2024-05-15 23:07:57.645327"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:07:57.646678"], ["updated_at", "2024-05-15 23:07:57.646678"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:07:57.647854"], ["updated_at", "2024-05-15 23:07:57.647854"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:07:57.649114"], ["updated_at", "2024-05-15 23:07:57.649114"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:07:57.651020"], ["updated_at", "2024-05-15 23:07:57.651020"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:07:57.661490"], ["updated_at", "2024-05-15 23:07:57.661490"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:07:57.662835"], ["updated_at", "2024-05-15 23:07:57.662835"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:07:57.664074"], ["updated_at", "2024-05-15 23:07:57.664074"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:07:57.665230"], ["updated_at", "2024-05-15 23:07:57.665230"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:07:57.666739"], ["updated_at", "2024-05-15 23:07:57.666739"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:07:57.677318"], ["updated_at", "2024-05-15 23:07:57.677318"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:07:57.678797"], ["updated_at", "2024-05-15 23:07:57.678797"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:07:57.680025"], ["updated_at", "2024-05-15 23:07:57.680025"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:07:57.681224"], ["updated_at", "2024-05-15 23:07:57.681224"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:07:57.682432"], ["updated_at", "2024-05-15 23:07:57.682432"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:07:57.693020"], ["updated_at", "2024-05-15 23:07:57.693020"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:07:57.694686"], ["updated_at", "2024-05-15 23:07:57.694686"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:07:57.695916"], ["updated_at", "2024-05-15 23:07:57.695916"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:07:57.697195"], ["updated_at", "2024-05-15 23:07:57.697195"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:07:57.698408"], ["updated_at", "2024-05-15 23:07:57.698408"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.8ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:08:40.537986"], ["updated_at", "2024-05-15 23:08:40.537986"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:08:40.540134"], ["updated_at", "2024-05-15 23:08:40.540134"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:08:40.541587"], ["updated_at", "2024-05-15 23:08:40.541587"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:08:40.542957"], ["updated_at", "2024-05-15 23:08:40.542957"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:08:40.544334"], ["updated_at", "2024-05-15 23:08:40.544334"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["125", "4430546"]}
  [1m[36mBird Load (0.3ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 2169)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:08:40.572932"], ["updated_at", "2024-05-15 23:08:40.572932"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:08:40.574292"], ["updated_at", "2024-05-15 23:08:40.574292"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:08:40.575507"], ["updated_at", "2024-05-15 23:08:40.575507"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:08:40.576741"], ["updated_at", "2024-05-15 23:08:40.576741"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:08:40.577998"], ["updated_at", "2024-05-15 23:08:40.577998"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["2820230", "5497637"]}
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1609)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:08:40.589411"], ["updated_at", "2024-05-15 23:08:40.589411"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:08:40.590794"], ["updated_at", "2024-05-15 23:08:40.590794"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:08:40.592042"], ["updated_at", "2024-05-15 23:08:40.592042"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:08:40.593335"], ["updated_at", "2024-05-15 23:08:40.593335"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:08:40.594542"], ["updated_at", "2024-05-15 23:08:40.594542"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["13"]}
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1601)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:08:40.606105"], ["updated_at", "2024-05-15 23:08:40.606105"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:08:40.607645"], ["updated_at", "2024-05-15 23:08:40.607645"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:08:40.608889"], ["updated_at", "2024-05-15 23:08:40.608889"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:08:40.610071"], ["updated_at", "2024-05-15 23:08:40.610071"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:08:40.611214"], ["updated_at", "2024-05-15 23:08:40.611214"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["130"]}
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1611)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"2820230"}
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 607)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"130"}
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 483)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"4430546"}
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 485)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"9", "node_b_id"=>"4430546"}
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 472)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"4430546", "node_b_id"=>"4430546"}
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 480)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:08:40.659304"], ["updated_at", "2024-05-15 23:08:40.659304"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:08:40.660553"], ["updated_at", "2024-05-15 23:08:40.660553"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:08:40.662063"], ["updated_at", "2024-05-15 23:08:40.662063"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:08:40.663362"], ["updated_at", "2024-05-15 23:08:40.663362"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:08:40.664671"], ["updated_at", "2024-05-15 23:08:40.664671"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:08:40.675229"], ["updated_at", "2024-05-15 23:08:40.675229"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:08:40.676577"], ["updated_at", "2024-05-15 23:08:40.676577"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:08:40.677781"], ["updated_at", "2024-05-15 23:08:40.677781"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:08:40.679202"], ["updated_at", "2024-05-15 23:08:40.679202"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:08:40.680436"], ["updated_at", "2024-05-15 23:08:40.680436"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:08:40.690672"], ["updated_at", "2024-05-15 23:08:40.690672"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:08:40.691960"], ["updated_at", "2024-05-15 23:08:40.691960"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:08:40.693230"], ["updated_at", "2024-05-15 23:08:40.693230"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:08:40.694423"], ["updated_at", "2024-05-15 23:08:40.694423"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:08:40.695674"], ["updated_at", "2024-05-15 23:08:40.695674"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:08:40.706536"], ["updated_at", "2024-05-15 23:08:40.706536"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:08:40.707891"], ["updated_at", "2024-05-15 23:08:40.707891"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:08:40.709156"], ["updated_at", "2024-05-15 23:08:40.709156"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:08:40.710387"], ["updated_at", "2024-05-15 23:08:40.710387"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:08:40.711662"], ["updated_at", "2024-05-15 23:08:40.711662"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (1.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.1ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:18:31.211483"], ["updated_at", "2024-05-15 23:18:31.211483"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:18:31.213524"], ["updated_at", "2024-05-15 23:18:31.213524"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:18:31.214919"], ["updated_at", "2024-05-15 23:18:31.214919"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:18:31.216261"], ["updated_at", "2024-05-15 23:18:31.216261"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:18:31.217686"], ["updated_at", "2024-05-15 23:18:31.217686"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["125", "4430546"]}
  [1m[36mBird Load (0.4ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 2171)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:18:31.246807"], ["updated_at", "2024-05-15 23:18:31.246807"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:18:31.248159"], ["updated_at", "2024-05-15 23:18:31.248159"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:18:31.249522"], ["updated_at", "2024-05-15 23:18:31.249522"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:18:31.250829"], ["updated_at", "2024-05-15 23:18:31.250829"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:18:31.252103"], ["updated_at", "2024-05-15 23:18:31.252103"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["2820230", "5497637"]}
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1611)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:18:31.264956"], ["updated_at", "2024-05-15 23:18:31.264956"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:18:31.266722"], ["updated_at", "2024-05-15 23:18:31.266722"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:18:31.268214"], ["updated_at", "2024-05-15 23:18:31.268214"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:18:31.269769"], ["updated_at", "2024-05-15 23:18:31.269769"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:18:31.271036"], ["updated_at", "2024-05-15 23:18:31.271036"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["13"]}
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1603)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:18:31.283519"], ["updated_at", "2024-05-15 23:18:31.283519"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:18:31.285369"], ["updated_at", "2024-05-15 23:18:31.285369"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:18:31.286895"], ["updated_at", "2024-05-15 23:18:31.286895"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:18:31.288148"], ["updated_at", "2024-05-15 23:18:31.288148"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:18:31.289469"], ["updated_at", "2024-05-15 23:18:31.289469"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["130"]}
  [1m[36mBird Load (0.3ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1613)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"2820230"}
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 611)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"130"}
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 487)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"4430546"}
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 489)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"9", "node_b_id"=>"4430546"}
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 474)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"4430546", "node_b_id"=>"4430546"}
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 484)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:18:31.349368"], ["updated_at", "2024-05-15 23:18:31.349368"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:18:31.350883"], ["updated_at", "2024-05-15 23:18:31.350883"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:18:31.352548"], ["updated_at", "2024-05-15 23:18:31.352548"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:18:31.353893"], ["updated_at", "2024-05-15 23:18:31.353893"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:18:31.355148"], ["updated_at", "2024-05-15 23:18:31.355148"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:18:31.367942"], ["updated_at", "2024-05-15 23:18:31.367942"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:18:31.369692"], ["updated_at", "2024-05-15 23:18:31.369692"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:18:31.371196"], ["updated_at", "2024-05-15 23:18:31.371196"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:18:31.372582"], ["updated_at", "2024-05-15 23:18:31.372582"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:18:31.374319"], ["updated_at", "2024-05-15 23:18:31.374319"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:18:31.386038"], ["updated_at", "2024-05-15 23:18:31.386038"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:18:31.387431"], ["updated_at", "2024-05-15 23:18:31.387431"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:18:31.388689"], ["updated_at", "2024-05-15 23:18:31.388689"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:18:31.390082"], ["updated_at", "2024-05-15 23:18:31.390082"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:18:31.391819"], ["updated_at", "2024-05-15 23:18:31.391819"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:18:31.403726"], ["updated_at", "2024-05-15 23:18:31.403726"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:18:31.405113"], ["updated_at", "2024-05-15 23:18:31.405113"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:18:31.406634"], ["updated_at", "2024-05-15 23:18:31.406634"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:18:31.408357"], ["updated_at", "2024-05-15 23:18:31.408357"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:18:31.410057"], ["updated_at", "2024-05-15 23:18:31.410057"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:19:12.928197"], ["updated_at", "2024-05-15 23:19:12.928197"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:19:12.930237"], ["updated_at", "2024-05-15 23:19:12.930237"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:19:12.931643"], ["updated_at", "2024-05-15 23:19:12.931643"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:19:12.933035"], ["updated_at", "2024-05-15 23:19:12.933035"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:19:12.934434"], ["updated_at", "2024-05-15 23:19:12.934434"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["125", "4430546"]}
  [1m[36mBird Load (0.3ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 2171)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:19:12.962775"], ["updated_at", "2024-05-15 23:19:12.962775"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:19:12.964070"], ["updated_at", "2024-05-15 23:19:12.964070"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:19:12.965306"], ["updated_at", "2024-05-15 23:19:12.965306"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:19:12.966527"], ["updated_at", "2024-05-15 23:19:12.966527"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:19:12.967720"], ["updated_at", "2024-05-15 23:19:12.967720"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["2820230", "5497637"]}
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1611)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:19:12.980768"], ["updated_at", "2024-05-15 23:19:12.980768"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:19:12.982358"], ["updated_at", "2024-05-15 23:19:12.982358"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:19:12.983650"], ["updated_at", "2024-05-15 23:19:12.983650"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:19:12.984859"], ["updated_at", "2024-05-15 23:19:12.984859"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:19:12.986084"], ["updated_at", "2024-05-15 23:19:12.986084"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["13"]}
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 1603)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:19:12.999815"], ["updated_at", "2024-05-15 23:19:12.999815"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:19:13.001161"], ["updated_at", "2024-05-15 23:19:13.001161"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:19:13.002377"], ["updated_at", "2024-05-15 23:19:13.002377"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:19:13.003698"], ["updated_at", "2024-05-15 23:19:13.003698"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:19:13.005071"], ["updated_at", "2024-05-15 23:19:13.005071"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["130"]}
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1613)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"2820230"}
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 609)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"130"}
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 485)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"4430546"}
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 487)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"9", "node_b_id"=>"4430546"}
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 474)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"4430546", "node_b_id"=>"4430546"}
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 482)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:19:13.065343"], ["updated_at", "2024-05-15 23:19:13.065343"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:19:13.066704"], ["updated_at", "2024-05-15 23:19:13.066704"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:19:13.067955"], ["updated_at", "2024-05-15 23:19:13.067955"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:19:13.069137"], ["updated_at", "2024-05-15 23:19:13.069137"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:19:13.070549"], ["updated_at", "2024-05-15 23:19:13.070549"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:19:13.082522"], ["updated_at", "2024-05-15 23:19:13.082522"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:19:13.083862"], ["updated_at", "2024-05-15 23:19:13.083862"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:19:13.085032"], ["updated_at", "2024-05-15 23:19:13.085032"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:19:13.086286"], ["updated_at", "2024-05-15 23:19:13.086286"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:19:13.087564"], ["updated_at", "2024-05-15 23:19:13.087564"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:19:13.099684"], ["updated_at", "2024-05-15 23:19:13.099684"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:19:13.101048"], ["updated_at", "2024-05-15 23:19:13.101048"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:19:13.102241"], ["updated_at", "2024-05-15 23:19:13.102241"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:19:13.103541"], ["updated_at", "2024-05-15 23:19:13.103541"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:19:13.104889"], ["updated_at", "2024-05-15 23:19:13.104889"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-15 23:19:13.117666"], ["updated_at", "2024-05-15 23:19:13.117666"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-15 23:19:13.118971"], ["updated_at", "2024-05-15 23:19:13.118971"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-15 23:19:13.120338"], ["updated_at", "2024-05-15 23:19:13.120338"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-15 23:19:13.121834"], ["updated_at", "2024-05-15 23:19:13.121834"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-15 23:19:13.123330"], ["updated_at", "2024-05-15 23:19:13.123330"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::ApiController#index as HTML
Internal Server Error: Test error
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 352)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::ApiController#index as HTML
Completed 404 Not Found in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 308)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by Api::ApiController#index as HTML
Completed 422 Unprocessable Entity in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 228)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::ApiController#index as HTML
Internal Server Error: Test error
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 350)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::ApiController#index as HTML
Completed 404 Not Found in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 308)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by Api::ApiController#index as HTML
Completed 422 Unprocessable Entity in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 228)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (2.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-16 02:44:43.354094"], ["updated_at", "2024-05-16 02:44:43.354094"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-16 02:44:43.356312"], ["updated_at", "2024-05-16 02:44:43.356312"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-16 02:44:43.357848"], ["updated_at", "2024-05-16 02:44:43.357848"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-16 02:44:43.359254"], ["updated_at", "2024-05-16 02:44:43.359254"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-16 02:44:43.360738"], ["updated_at", "2024-05-16 02:44:43.360738"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["125", "4430546"]}
  [1m[36mBird Load (0.3ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 1877)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-16 02:44:43.374466"], ["updated_at", "2024-05-16 02:44:43.374466"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-16 02:44:43.375790"], ["updated_at", "2024-05-16 02:44:43.375790"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-16 02:44:43.377016"], ["updated_at", "2024-05-16 02:44:43.377016"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-16 02:44:43.378215"], ["updated_at", "2024-05-16 02:44:43.378215"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-16 02:44:43.379403"], ["updated_at", "2024-05-16 02:44:43.379403"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["2820230", "5497637"]}
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1610)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-16 02:44:43.391932"], ["updated_at", "2024-05-16 02:44:43.391932"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-16 02:44:43.393244"], ["updated_at", "2024-05-16 02:44:43.393244"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-16 02:44:43.394643"], ["updated_at", "2024-05-16 02:44:43.394643"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-16 02:44:43.396329"], ["updated_at", "2024-05-16 02:44:43.396329"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-16 02:44:43.397740"], ["updated_at", "2024-05-16 02:44:43.397740"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["13"]}
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1603)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-16 02:44:43.410316"], ["updated_at", "2024-05-16 02:44:43.410316"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-16 02:44:43.412013"], ["updated_at", "2024-05-16 02:44:43.412013"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-16 02:44:43.413527"], ["updated_at", "2024-05-16 02:44:43.413527"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-16 02:44:43.415012"], ["updated_at", "2024-05-16 02:44:43.415012"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-16 02:44:43.416606"], ["updated_at", "2024-05-16 02:44:43.416606"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["130"]}
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1613)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"2820230"}
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 608)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"130"}
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 485)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"4430546"}
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 487)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"9", "node_b_id"=>"4430546"}
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 474)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"4430546", "node_b_id"=>"4430546"}
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 482)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-16 02:44:43.476142"], ["updated_at", "2024-05-16 02:44:43.476142"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-16 02:44:43.477630"], ["updated_at", "2024-05-16 02:44:43.477630"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-16 02:44:43.479296"], ["updated_at", "2024-05-16 02:44:43.479296"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-16 02:44:43.480651"], ["updated_at", "2024-05-16 02:44:43.480651"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-16 02:44:43.482227"], ["updated_at", "2024-05-16 02:44:43.482227"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-16 02:44:43.494020"], ["updated_at", "2024-05-16 02:44:43.494020"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-16 02:44:43.495809"], ["updated_at", "2024-05-16 02:44:43.495809"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-16 02:44:43.497164"], ["updated_at", "2024-05-16 02:44:43.497164"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-16 02:44:43.498854"], ["updated_at", "2024-05-16 02:44:43.498854"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-16 02:44:43.500393"], ["updated_at", "2024-05-16 02:44:43.500393"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-16 02:44:43.511610"], ["updated_at", "2024-05-16 02:44:43.511610"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-16 02:44:43.513206"], ["updated_at", "2024-05-16 02:44:43.513206"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-16 02:44:43.514790"], ["updated_at", "2024-05-16 02:44:43.514790"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-16 02:44:43.516317"], ["updated_at", "2024-05-16 02:44:43.516317"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-16 02:44:43.518025"], ["updated_at", "2024-05-16 02:44:43.518025"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-16 02:44:43.530093"], ["updated_at", "2024-05-16 02:44:43.530093"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-16 02:44:43.531889"], ["updated_at", "2024-05-16 02:44:43.531889"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-16 02:44:43.533547"], ["updated_at", "2024-05-16 02:44:43.533547"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-16 02:44:43.535166"], ["updated_at", "2024-05-16 02:44:43.535166"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-16 02:44:43.536668"], ["updated_at", "2024-05-16 02:44:43.536668"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::ApiController#index as HTML
Internal Server Error: Test error
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 350)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by Api::ApiController#index as HTML
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 308)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by Api::ApiController#index as HTML
Completed 422 Unprocessable Entity in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 228)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (1.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-16 02:57:39.101295"], ["updated_at", "2024-05-16 02:57:39.101295"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-16 02:57:39.103469"], ["updated_at", "2024-05-16 02:57:39.103469"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-16 02:57:39.104929"], ["updated_at", "2024-05-16 02:57:39.104929"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-16 02:57:39.106611"], ["updated_at", "2024-05-16 02:57:39.106611"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-16 02:57:39.107997"], ["updated_at", "2024-05-16 02:57:39.107997"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["125", "4430546"]}
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1877)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-16 02:57:39.121184"], ["updated_at", "2024-05-16 02:57:39.121184"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-16 02:57:39.122495"], ["updated_at", "2024-05-16 02:57:39.122495"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-16 02:57:39.123779"], ["updated_at", "2024-05-16 02:57:39.123779"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-16 02:57:39.125114"], ["updated_at", "2024-05-16 02:57:39.125114"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-16 02:57:39.126769"], ["updated_at", "2024-05-16 02:57:39.126769"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["2820230", "5497637"]}
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1610)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-16 02:57:39.139661"], ["updated_at", "2024-05-16 02:57:39.139661"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-16 02:57:39.141167"], ["updated_at", "2024-05-16 02:57:39.141167"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-16 02:57:39.142951"], ["updated_at", "2024-05-16 02:57:39.142951"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-16 02:57:39.144547"], ["updated_at", "2024-05-16 02:57:39.144547"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-16 02:57:39.146373"], ["updated_at", "2024-05-16 02:57:39.146373"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["13"]}
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1603)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-16 02:57:39.158127"], ["updated_at", "2024-05-16 02:57:39.158127"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-16 02:57:39.159819"], ["updated_at", "2024-05-16 02:57:39.159819"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-16 02:57:39.161548"], ["updated_at", "2024-05-16 02:57:39.161548"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-16 02:57:39.163172"], ["updated_at", "2024-05-16 02:57:39.163172"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-16 02:57:39.164495"], ["updated_at", "2024-05-16 02:57:39.164495"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["130"]}
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1613)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"2820230"}
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 608)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"130"}
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 485)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"4430546"}
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 487)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"9", "node_b_id"=>"4430546"}
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 474)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"4430546", "node_b_id"=>"4430546"}
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 482)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (1.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-16 02:57:39.249971"], ["updated_at", "2024-05-16 02:57:39.249971"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-16 02:57:39.252220"], ["updated_at", "2024-05-16 02:57:39.252220"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-16 02:57:39.254165"], ["updated_at", "2024-05-16 02:57:39.254165"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-16 02:57:39.255806"], ["updated_at", "2024-05-16 02:57:39.255806"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-16 02:57:39.257563"], ["updated_at", "2024-05-16 02:57:39.257563"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-16 02:57:39.268857"], ["updated_at", "2024-05-16 02:57:39.268857"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-16 02:57:39.270279"], ["updated_at", "2024-05-16 02:57:39.270279"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-16 02:57:39.271589"], ["updated_at", "2024-05-16 02:57:39.271589"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-16 02:57:39.272802"], ["updated_at", "2024-05-16 02:57:39.272802"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-16 02:57:39.273997"], ["updated_at", "2024-05-16 02:57:39.273997"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-16 02:57:39.285590"], ["updated_at", "2024-05-16 02:57:39.285590"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-16 02:57:39.286977"], ["updated_at", "2024-05-16 02:57:39.286977"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-16 02:57:39.288228"], ["updated_at", "2024-05-16 02:57:39.288228"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-16 02:57:39.289403"], ["updated_at", "2024-05-16 02:57:39.289403"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-16 02:57:39.290603"], ["updated_at", "2024-05-16 02:57:39.290603"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-16 02:57:39.303049"], ["updated_at", "2024-05-16 02:57:39.303049"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-16 02:57:39.304399"], ["updated_at", "2024-05-16 02:57:39.304399"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-16 02:57:39.305633"], ["updated_at", "2024-05-16 02:57:39.305633"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.1ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-16 02:57:39.306866"], ["updated_at", "2024-05-16 02:57:39.306866"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-16 02:57:39.308271"], ["updated_at", "2024-05-16 02:57:39.308271"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.1ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (5.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (2.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (12.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.5ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (1.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.2ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (1.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (2.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-20 05:37:22.058026"], ["updated_at", "2024-05-20 05:37:22.058026"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-20 05:37:22.062970"], ["updated_at", "2024-05-20 05:37:22.062970"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-20 05:37:22.064447"], ["updated_at", "2024-05-20 05:37:22.064447"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-20 05:37:22.066119"], ["updated_at", "2024-05-20 05:37:22.066119"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-20 05:37:22.067632"], ["updated_at", "2024-05-20 05:37:22.067632"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Load (0.1ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.4ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.5ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.4ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.1ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (2.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.6ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
  [1m[36mActiveRecord::InternalMetadata Load (10.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
Processing by Api::ApiController#index as HTML
Internal Server Error: Test error
Completed 500 Internal Server Error in 1ms (Views: 0.9ms | ActiveRecord: 0.0ms | Allocations: 351)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by Api::ApiController#index as HTML
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 308)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by Api::ApiController#index as HTML
Completed 422 Unprocessable Entity in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 228)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (4.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (19.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.1ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (1.1ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (1.1ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.1ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (1.1ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.6ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (3.8ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-21 04:25:54.837339"], ["updated_at", "2024-05-21 04:25:54.837339"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.4ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.7ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-21 04:25:54.847322"], ["updated_at", "2024-05-21 04:25:54.847322"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.4ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.7ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-21 04:25:54.852064"], ["updated_at", "2024-05-21 04:25:54.852064"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.6ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-21 04:25:54.856851"], ["updated_at", "2024-05-21 04:25:54.856851"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.4ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.6ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-21 04:25:54.861695"], ["updated_at", "2024-05-21 04:25:54.861695"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["125", "4430546"]}
  [1m[36mBird Load (0.5ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.4ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 12ms (Views: 0.3ms | ActiveRecord: 2.1ms | Allocations: 1877)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.1ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.1ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (1.2ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (1.1ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.7ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-21 04:25:54.906434"], ["updated_at", "2024-05-21 04:25:54.906434"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.6ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-21 04:25:54.911343"], ["updated_at", "2024-05-21 04:25:54.911343"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.8ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-21 04:25:54.916733"], ["updated_at", "2024-05-21 04:25:54.916733"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-21 04:25:54.921453"], ["updated_at", "2024-05-21 04:25:54.921453"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.4ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.7ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-21 04:25:54.926762"], ["updated_at", "2024-05-21 04:25:54.926762"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["2820230", "5497637"]}
  [1m[36mBird Load (0.5ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.4ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 10ms (Views: 0.4ms | ActiveRecord: 2.0ms | Allocations: 1610)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.1ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (1.1ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.1ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (1.1ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (1.2ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (1.1ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-21 04:25:54.969906"], ["updated_at", "2024-05-21 04:25:54.969906"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.6ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-21 04:25:54.974380"], ["updated_at", "2024-05-21 04:25:54.974380"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-21 04:25:54.978899"], ["updated_at", "2024-05-21 04:25:54.978899"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-21 04:25:54.983919"], ["updated_at", "2024-05-21 04:25:54.983919"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.6ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-21 04:25:54.989161"], ["updated_at", "2024-05-21 04:25:54.989161"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["13"]}
  [1m[36mBird Load (0.5ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.4ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 10ms (Views: 0.3ms | ActiveRecord: 1.9ms | Allocations: 1603)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.5ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.6ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-21 04:25:55.030009"], ["updated_at", "2024-05-21 04:25:55.030009"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-21 04:25:55.034440"], ["updated_at", "2024-05-21 04:25:55.034440"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-21 04:25:55.038759"], ["updated_at", "2024-05-21 04:25:55.038759"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-21 04:25:55.043012"], ["updated_at", "2024-05-21 04:25:55.043012"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-21 04:25:55.048204"], ["updated_at", "2024-05-21 04:25:55.048204"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["130"]}
  [1m[36mBird Load (4.7ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.4ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 14ms (Views: 0.4ms | ActiveRecord: 6.2ms | Allocations: 1613)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (1.1ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"2820230"}
  [1m[36mNode Pluck (0.6ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.6ms | Allocations: 608)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"130"}
  [1m[36mNode Pluck (0.5ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 485)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (1.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"4430546"}
  [1m[36mNode Pluck (0.4ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 487)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (1.4ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"9", "node_b_id"=>"4430546"}
  [1m[36mNode Pluck (0.4ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 474)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (1.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"4430546", "node_b_id"=>"4430546"}
  [1m[36mNode Pluck (0.5ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 482)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (1.3ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.4ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.6ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-21 04:25:55.229744"], ["updated_at", "2024-05-21 04:25:55.229744"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.6ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-21 04:25:55.234361"], ["updated_at", "2024-05-21 04:25:55.234361"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-21 04:25:55.238838"], ["updated_at", "2024-05-21 04:25:55.238838"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-21 04:25:55.243330"], ["updated_at", "2024-05-21 04:25:55.243330"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-21 04:25:55.247520"], ["updated_at", "2024-05-21 04:25:55.247520"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Load (0.4ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-21 04:25:55.279776"], ["updated_at", "2024-05-21 04:25:55.279776"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-21 04:25:55.284344"], ["updated_at", "2024-05-21 04:25:55.284344"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-21 04:25:55.288782"], ["updated_at", "2024-05-21 04:25:55.288782"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-21 04:25:55.294385"], ["updated_at", "2024-05-21 04:25:55.294385"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-21 04:25:55.298364"], ["updated_at", "2024-05-21 04:25:55.298364"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Load (0.4ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-21 04:25:55.333005"], ["updated_at", "2024-05-21 04:25:55.333005"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-21 04:25:55.337244"], ["updated_at", "2024-05-21 04:25:55.337244"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-21 04:25:55.341050"], ["updated_at", "2024-05-21 04:25:55.341050"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-21 04:25:55.345638"], ["updated_at", "2024-05-21 04:25:55.345638"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-21 04:25:55.349295"], ["updated_at", "2024-05-21 04:25:55.349295"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Load (0.3ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-21 04:25:55.380983"], ["updated_at", "2024-05-21 04:25:55.380983"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-21 04:25:55.385533"], ["updated_at", "2024-05-21 04:25:55.385533"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-21 04:25:55.390274"], ["updated_at", "2024-05-21 04:25:55.390274"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.4ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.6ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-21 04:25:55.394983"], ["updated_at", "2024-05-21 04:25:55.394983"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-21 04:25:55.399680"], ["updated_at", "2024-05-21 04:25:55.399680"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Load (0.4ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.5ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.5ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (1.1ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.5ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.5ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.1ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.5ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::ApiController#index as HTML
Internal Server Error: Test error
Completed 500 Internal Server Error in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 351)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::ApiController#index as HTML
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 308)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by Api::ApiController#index as HTML
Completed 422 Unprocessable Entity in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 228)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (3.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.4ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.8ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-21 04:26:30.401010"], ["updated_at", "2024-05-21 04:26:30.401010"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-21 04:26:30.405373"], ["updated_at", "2024-05-21 04:26:30.405373"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-21 04:26:30.408860"], ["updated_at", "2024-05-21 04:26:30.408860"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-21 04:26:30.412193"], ["updated_at", "2024-05-21 04:26:30.412193"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-21 04:26:30.415385"], ["updated_at", "2024-05-21 04:26:30.415385"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["125", "4430546"]}
  [1m[36mBird Load (0.7ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 1.9ms | Allocations: 1877)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (10.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-21 04:26:30.462574"], ["updated_at", "2024-05-21 04:26:30.462574"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.7ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-21 04:26:30.466594"], ["updated_at", "2024-05-21 04:26:30.466594"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-21 04:26:30.470720"], ["updated_at", "2024-05-21 04:26:30.470720"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.6ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-21 04:26:30.475026"], ["updated_at", "2024-05-21 04:26:30.475026"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.5ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-21 04:26:30.480895"], ["updated_at", "2024-05-21 04:26:30.480895"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["2820230", "5497637"]}
  [1m[36mBird Load (0.4ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.3ms | ActiveRecord: 1.7ms | Allocations: 1610)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (1.0ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-21 04:26:30.515221"], ["updated_at", "2024-05-21 04:26:30.515221"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-21 04:26:30.518175"], ["updated_at", "2024-05-21 04:26:30.518175"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-21 04:26:30.521499"], ["updated_at", "2024-05-21 04:26:30.521499"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-21 04:26:30.525228"], ["updated_at", "2024-05-21 04:26:30.525228"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-21 04:26:30.528036"], ["updated_at", "2024-05-21 04:26:30.528036"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["13"]}
  [1m[36mBird Load (0.4ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.4ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 1603)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-21 04:26:30.562478"], ["updated_at", "2024-05-21 04:26:30.562478"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-21 04:26:30.565462"], ["updated_at", "2024-05-21 04:26:30.565462"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-21 04:26:30.568524"], ["updated_at", "2024-05-21 04:26:30.568524"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-21 04:26:30.571502"], ["updated_at", "2024-05-21 04:26:30.571502"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-21 04:26:30.574591"], ["updated_at", "2024-05-21 04:26:30.574591"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::BirdsController#index as HTML
  Parameters: {"node_ids"=>["130"]}
  [1m[36mBird Load (0.3ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 1613)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (1.1ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"2820230"}
  [1m[36mNode Pluck (0.4ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 608)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"130"}
  [1m[36mNode Pluck (0.5ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 485)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (1.1ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"5497637", "node_b_id"=>"4430546"}
  [1m[36mNode Pluck (0.4ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 487)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"9", "node_b_id"=>"4430546"}
  [1m[36mNode Pluck (0.4ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 474)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.1ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::NodesController#common_ancestors as HTML
  Parameters: {"node_a_id"=>"4430546", "node_b_id"=>"4430546"}
  [1m[36mNode Pluck (0.4ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 482)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-21 04:26:30.715520"], ["updated_at", "2024-05-21 04:26:30.715520"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-21 04:26:30.718324"], ["updated_at", "2024-05-21 04:26:30.718324"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-21 04:26:30.720870"], ["updated_at", "2024-05-21 04:26:30.720870"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-21 04:26:30.724432"], ["updated_at", "2024-05-21 04:26:30.724432"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.6ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-21 04:26:30.728104"], ["updated_at", "2024-05-21 04:26:30.728104"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Load (0.4ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-21 04:26:30.755916"], ["updated_at", "2024-05-21 04:26:30.755916"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-21 04:26:30.759209"], ["updated_at", "2024-05-21 04:26:30.759209"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-21 04:26:30.762478"], ["updated_at", "2024-05-21 04:26:30.762478"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-21 04:26:30.765541"], ["updated_at", "2024-05-21 04:26:30.765541"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-21 04:26:30.768231"], ["updated_at", "2024-05-21 04:26:30.768231"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Load (0.4ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (1.1ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-21 04:26:30.796917"], ["updated_at", "2024-05-21 04:26:30.796917"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-21 04:26:30.799918"], ["updated_at", "2024-05-21 04:26:30.799918"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-21 04:26:30.803458"], ["updated_at", "2024-05-21 04:26:30.803458"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-21 04:26:30.807014"], ["updated_at", "2024-05-21 04:26:30.807014"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-21 04:26:30.810276"], ["updated_at", "2024-05-21 04:26:30.810276"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Load (0.2ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 1], ["node_id", 125], ["created_at", "2024-05-21 04:26:30.837502"], ["updated_at", "2024-05-21 04:26:30.837502"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 2], ["node_id", 2820230], ["created_at", "2024-05-21 04:26:30.841652"], ["updated_at", "2024-05-21 04:26:30.841652"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 3], ["node_id", 4430546], ["created_at", "2024-05-21 04:26:30.845561"], ["updated_at", "2024-05-21 04:26:30.845561"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 4], ["node_id", 5497637], ["created_at", "2024-05-21 04:26:30.848745"], ["updated_at", "2024-05-21 04:26:30.848745"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("id", "node_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["id", 5], ["node_id", 130], ["created_at", "2024-05-21 04:26:30.851376"], ["updated_at", "2024-05-21 04:26:30.851376"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Load (0.3ms)[0m  [1m[34mSELECT "birds".* FROM "birds"[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.3ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 2820230]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.9ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.4ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 130]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.5ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 5497637], ["id", 4430546]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.4ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 9], ["id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id") VALUES ($1) RETURNING "id"[0m  [["id", 130]]
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 125], ["parent_id", 130]]
  [1m[35m (0.8ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125]]
  [1m[35m (0.7ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id") VALUES ($1, $2) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546]]
  [1m[35m (0.6ms)[0m  [1m[35m    WITH RECURSIVE tree_path AS (
      SELECT id, parent_id, id::text AS path_ids
      FROM nodes
      WHERE parent_id IS NULL OR parent_id = 0
      UNION ALL
      SELECT nodes.id, nodes.parent_id, tree_path.path_ids || '.' || nodes.id::text
      FROM nodes
      JOIN tree_path ON nodes.parent_id = tree_path.id
    )
    UPDATE nodes
    SET path = tree_path.path_ids::ltree
    FROM tree_path
    WHERE nodes.id = tree_path.id;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Pluck (0.3ms)[0m  [1m[34mSELECT "nodes"."id", "nodes"."path" FROM "nodes" WHERE "nodes"."id" IN ($1, $2)[0m  [["id", 4430546], ["id", 4430546]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
